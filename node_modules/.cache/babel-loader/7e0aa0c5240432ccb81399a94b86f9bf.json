{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar cache = new Map();\n\nvar setCache = function setCache(key, cacheTime, cachedData) {\n  var currentCache = cache.get(key);\n\n  if (currentCache === null || currentCache === void 0 ? void 0 : currentCache.timer) {\n    clearTimeout(currentCache.timer);\n  }\n\n  var timer = undefined;\n\n  if (cacheTime > -1) {\n    // if cache out, clear it\n    timer = setTimeout(function () {\n      cache[\"delete\"](key);\n    }, cacheTime);\n  }\n\n  cache.set(key, __assign(__assign({}, cachedData), {\n    timer: timer\n  }));\n};\n\nvar getCache = function getCache(key) {\n  return cache.get(key);\n};\n\nvar clearCache = function clearCache(key) {\n  if (key) {\n    var cacheKeys = Array.isArray(key) ? key : [key];\n    cacheKeys.forEach(function (cacheKey) {\n      return cache[\"delete\"](cacheKey);\n    });\n  } else {\n    cache.clear();\n  }\n};\n\nexport { getCache, setCache, clearCache };","map":{"version":3,"sources":["D:/react/project0330/node_modules/ahooks/es/useRequest/src/utils/cache.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","cache","Map","setCache","key","cacheTime","cachedData","currentCache","get","timer","clearTimeout","undefined","setTimeout","set","getCache","clearCache","cacheKeys","Array","isArray","forEach","cacheKey","clear"],"mappings":"AAAA,IAAIA,QAAQ,GAAG,QAAQ,KAAKA,QAAb,IAAyB,YAAY;AAClDA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,CAAV,EAAa;AACvC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACnDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AAEA,WAAK,IAAII,CAAT,IAAcL,CAAd,EAAiB;AACf,YAAIH,MAAM,CAACS,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AACjD;AACF;;AAED,WAAON,CAAP;AACD,GAVD;;AAYA,SAAOH,QAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBN,SAArB,CAAP;AACD,CAdD;;AAgBA,IAAIO,KAAK,GAAG,IAAIC,GAAJ,EAAZ;;AAEA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBC,GAAlB,EAAuBC,SAAvB,EAAkCC,UAAlC,EAA8C;AAC3D,MAAIC,YAAY,GAAGN,KAAK,CAACO,GAAN,CAAUJ,GAAV,CAAnB;;AAEA,MAAIG,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,YAAY,CAACE,KAA7E,EAAoF;AAClFC,IAAAA,YAAY,CAACH,YAAY,CAACE,KAAd,CAAZ;AACD;;AAED,MAAIA,KAAK,GAAGE,SAAZ;;AAEA,MAAIN,SAAS,GAAG,CAAC,CAAjB,EAAoB;AAClB;AACAI,IAAAA,KAAK,GAAGG,UAAU,CAAC,YAAY;AAC7BX,MAAAA,KAAK,CAAC,QAAD,CAAL,CAAgBG,GAAhB;AACD,KAFiB,EAEfC,SAFe,CAAlB;AAGD;;AAEDJ,EAAAA,KAAK,CAACY,GAAN,CAAUT,GAAV,EAAejB,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKmB,UAAL,CAAT,EAA2B;AAChDG,IAAAA,KAAK,EAAEA;AADyC,GAA3B,CAAvB;AAGD,CAnBD;;AAqBA,IAAIK,QAAQ,GAAG,SAASA,QAAT,CAAkBV,GAAlB,EAAuB;AACpC,SAAOH,KAAK,CAACO,GAAN,CAAUJ,GAAV,CAAP;AACD,CAFD;;AAIA,IAAIW,UAAU,GAAG,SAASA,UAAT,CAAoBX,GAApB,EAAyB;AACxC,MAAIA,GAAJ,EAAS;AACP,QAAIY,SAAS,GAAGC,KAAK,CAACC,OAAN,CAAcd,GAAd,IAAqBA,GAArB,GAA2B,CAACA,GAAD,CAA3C;AACAY,IAAAA,SAAS,CAACG,OAAV,CAAkB,UAAUC,QAAV,EAAoB;AACpC,aAAOnB,KAAK,CAAC,QAAD,CAAL,CAAgBmB,QAAhB,CAAP;AACD,KAFD;AAGD,GALD,MAKO;AACLnB,IAAAA,KAAK,CAACoB,KAAN;AACD;AACF,CATD;;AAWA,SAASP,QAAT,EAAmBX,QAAnB,EAA6BY,UAA7B","sourcesContent":["var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar cache = new Map();\n\nvar setCache = function setCache(key, cacheTime, cachedData) {\n  var currentCache = cache.get(key);\n\n  if (currentCache === null || currentCache === void 0 ? void 0 : currentCache.timer) {\n    clearTimeout(currentCache.timer);\n  }\n\n  var timer = undefined;\n\n  if (cacheTime > -1) {\n    // if cache out, clear it\n    timer = setTimeout(function () {\n      cache[\"delete\"](key);\n    }, cacheTime);\n  }\n\n  cache.set(key, __assign(__assign({}, cachedData), {\n    timer: timer\n  }));\n};\n\nvar getCache = function getCache(key) {\n  return cache.get(key);\n};\n\nvar clearCache = function clearCache(key) {\n  if (key) {\n    var cacheKeys = Array.isArray(key) ? key : [key];\n    cacheKeys.forEach(function (cacheKey) {\n      return cache[\"delete\"](cacheKey);\n    });\n  } else {\n    cache.clear();\n  }\n};\n\nexport { getCache, setCache, clearCache };"]},"metadata":{},"sourceType":"module"}