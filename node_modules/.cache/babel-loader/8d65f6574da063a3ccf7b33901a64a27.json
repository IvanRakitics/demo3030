{"ast":null,"code":"import _slicedToArray from \"D:\\\\react\\\\project0330\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\react\\\\project0330\\\\src\\\\views\\\\enclosure\\\\checkout\\\\index.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport PubHeader from \"../../../components/PubHeader\";\nimport CheckBottomNav from \"./checkBottomNav\";\nimport CheckOutView from \"./checkOutView\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nvar CheckOut = function CheckOut() {\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      address = _useState4[0],\n      setAddress = _useState4[1];\n\n  useEffect(function () {\n    axios({\n      url: \"http://127.0.0.1:8000/order/checkout\",\n      method: \"get\",\n      params: {\n        \"id\": id\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      setData(function (el) {\n        return res.data;\n      });\n      setAddress(function (obj) {\n        return res.data.address;\n      });\n    });\n  }, [id]); // const updateSalesOrder = useCallback(()=>{\n  //     let data\n  //     obj.user = user.id\n  //     obj.status = 1\n  //     console.log( obj )\n  //     axios.post(\"http://127.0.0.1:8000/order/events\", { \"events\": events, \"data\":obj } ).then(res=>{\n  //         console.log( res.data )\n  //         const { code, item } = res.data\n  //         if( code === 500 ){\n  //             Navigate(`/checkout/${ item.id }`)\n  //         }\n  //     })\n  // },[])\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(PubHeader, {\n    title: \"用户结算\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CheckBottomNav, {\n    data: data,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CheckOutView, {\n    address: address,\n    itemdetails: data.item_details,\n    amount: data.amount,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default CheckOut;","map":{"version":3,"sources":["D:/react/project0330/src/views/enclosure/checkout/index.js"],"names":["React","useEffect","useState","PubHeader","CheckBottomNav","CheckOutView","axios","useParams","CheckOut","id","data","setData","address","setAddress","url","method","params","then","res","console","log","el","obj","item_details","amount"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAK;AAAA,mBAELD,SAAS,EAFJ;AAAA,MAEZE,EAFY,cAEZA,EAFY;;AAAA,kBAIKP,QAAQ,CAAC,EAAD,CAJb;AAAA;AAAA,MAIXQ,IAJW;AAAA,MAINC,OAJM;;AAAA,mBAKWT,QAAQ,CAAC,EAAD,CALnB;AAAA;AAAA,MAKXU,OALW;AAAA,MAKHC,UALG;;AAOlBZ,EAAAA,SAAS,CAAC,YAAI;AACVK,IAAAA,KAAK,CAAC;AACFQ,MAAAA,GAAG,EAAC,sCADF;AAEFC,MAAAA,MAAM,EAAC,KAFL;AAGFC,MAAAA,MAAM,EAAC;AAAE,cAAMP;AAAR;AAHL,KAAD,CAAL,CAIIQ,IAJJ,CAIS,UAAAC,GAAG,EAAE;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACR,IAAhB;AACAC,MAAAA,OAAO,CAAC,UAAAU,EAAE;AAAA,eAAIH,GAAG,CAACR,IAAR;AAAA,OAAH,CAAP;AACAG,MAAAA,UAAU,CAAC,UAAAS,GAAG;AAAA,eAAIJ,GAAG,CAACR,IAAJ,CAASE,OAAb;AAAA,OAAJ,CAAV;AACH,KARF;AASH,GAVQ,EAUP,CAACH,EAAD,CAVO,CAAT,CAPkB,CAmBlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACH,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADG,eAEH,oBAAC,cAAD;AAAgB,IAAA,IAAI,EAAIC,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFG,eAGH,oBAAC,YAAD;AACA,IAAA,OAAO,EAAEE,OADT;AAEA,IAAA,WAAW,EAAIF,IAAI,CAACa,YAFpB;AAGA,IAAA,MAAM,EAAIb,IAAI,CAACc,MAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHG,CAAP;AASH,CA1CD;;AA4CA,eAAehB,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PubHeader from \"../../../components/PubHeader\";\r\nimport CheckBottomNav from \"./checkBottomNav\";\r\nimport CheckOutView from \"./checkOutView\";\r\n\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst CheckOut = () =>{\r\n\r\n    let { id } = useParams()\r\n\r\n    const [data,setData] = useState({})\r\n    const [address,setAddress] = useState({})\r\n\r\n    useEffect(()=>{\r\n        axios({\r\n            url:\"http://127.0.0.1:8000/order/checkout\",\r\n            method:\"get\",\r\n            params:{ \"id\": id }\r\n         }).then(res=>{\r\n             console.log(res.data)\r\n             setData(el => res.data)\r\n             setAddress(obj => res.data.address )\r\n         })\r\n    },[id])\r\n\r\n    // const updateSalesOrder = useCallback(()=>{\r\n    //     let data\r\n    //     obj.user = user.id\r\n    //     obj.status = 1\r\n    //     console.log( obj )\r\n    //     axios.post(\"http://127.0.0.1:8000/order/events\", { \"events\": events, \"data\":obj } ).then(res=>{\r\n    //         console.log( res.data )\r\n    //         const { code, item } = res.data\r\n    //         if( code === 500 ){\r\n    //             Navigate(`/checkout/${ item.id }`)\r\n    //         }\r\n    //     })\r\n    // },[])\r\n\r\n    return(<div>\r\n        <PubHeader title={\"用户结算\"}/>\r\n        <CheckBottomNav data = {data}/>\r\n        <CheckOutView \r\n        address={address}\r\n        itemdetails = {data.item_details}\r\n        amount = {data.amount}\r\n        />\r\n    </div>)    \r\n}\r\n\r\nexport default CheckOut"]},"metadata":{},"sourceType":"module"}