{"ast":null,"code":"import _defineProperty from \"D:\\\\react\\\\project0330\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"D:\\\\react\\\\project0330\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { StarFill } from 'antd-mobile-icons';\nimport { usePropsValue } from '../../utils/use-props-value';\nvar classPrefix = \"adm-rate\";\nvar defaultProps = {\n  count: 5,\n  allowHalf: false,\n  character: React.createElement(StarFill, null),\n  defaultValue: 0,\n  readOnly: false,\n  allowClear: true\n};\nexport var Rate = function Rate(p) {\n  var props = mergeProps(defaultProps, p);\n\n  var _usePropsValue = usePropsValue(props),\n      _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n      value = _usePropsValue2[0],\n      setValue = _usePropsValue2[1];\n\n  var starList = Array(props.count).fill(null);\n\n  function renderStar(v, half) {\n    var _classNames;\n\n    return React.createElement(\"div\", {\n      className: classNames(\"\".concat(classPrefix, \"-star\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(classPrefix, \"-star-active\"), value >= v), _defineProperty(_classNames, \"\".concat(classPrefix, \"-star-half\"), half), _defineProperty(_classNames, \"\".concat(classPrefix, \"-star-readonly\"), props.readOnly), _classNames)),\n      onClick: function onClick() {\n        if (props.readOnly) return;\n\n        if (props.allowClear && value === v) {\n          setValue(0);\n        } else {\n          setValue(v);\n        }\n      }\n    }, props.character);\n  }\n\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, starList.map(function (_, i) {\n    return React.createElement(\"div\", {\n      key: i,\n      className: classNames(\"\".concat(classPrefix, \"-box\"))\n    }, props.allowHalf && renderStar(i + 0.5, true), renderStar(i + 1, false));\n  })));\n};","map":null,"metadata":{},"sourceType":"module"}