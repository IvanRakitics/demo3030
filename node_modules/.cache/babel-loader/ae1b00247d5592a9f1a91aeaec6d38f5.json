{"ast":null,"code":"import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nexport default function useClickAway(onClickAway, target, eventName) {\n  if (eventName === void 0) {\n    eventName = 'click';\n  }\n\n  var onClickAwayRef = useLatest(onClickAway);\n  useEffectWithTarget(function () {\n    var handler = function handler(event) {\n      var targets = Array.isArray(target) ? target : [target];\n\n      if (targets.some(function (item) {\n        var targetElement = getTargetElement(item);\n        return !targetElement || (targetElement === null || targetElement === void 0 ? void 0 : targetElement.contains(event.target));\n      })) {\n        return;\n      }\n\n      onClickAwayRef.current(event);\n    };\n\n    var eventNames = Array.isArray(eventName) ? eventName : [eventName];\n    eventNames.forEach(function (event) {\n      return document.addEventListener(event, handler);\n    });\n    return function () {\n      eventNames.forEach(function (event) {\n        return document.removeEventListener(event, handler);\n      });\n    };\n  }, Array.isArray(eventName) ? eventName : [eventName], target);\n}","map":{"version":3,"sources":["D:/react/project0330/node_modules/ahooks/es/useClickAway/index.js"],"names":["useLatest","getTargetElement","useEffectWithTarget","useClickAway","onClickAway","target","eventName","onClickAwayRef","handler","event","targets","Array","isArray","some","item","targetElement","contains","current","eventNames","forEach","document","addEventListener","removeEventListener"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,cAAtB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,OAAOC,mBAAP,MAAgC,8BAAhC;AACA,eAAe,SAASC,YAAT,CAAsBC,WAAtB,EAAmCC,MAAnC,EAA2CC,SAA3C,EAAsD;AACnE,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AACxBA,IAAAA,SAAS,GAAG,OAAZ;AACD;;AAED,MAAIC,cAAc,GAAGP,SAAS,CAACI,WAAD,CAA9B;AACAF,EAAAA,mBAAmB,CAAC,YAAY;AAC9B,QAAIM,OAAO,GAAG,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;AACpC,UAAIC,OAAO,GAAGC,KAAK,CAACC,OAAN,CAAcP,MAAd,IAAwBA,MAAxB,GAAiC,CAACA,MAAD,CAA/C;;AAEA,UAAIK,OAAO,CAACG,IAAR,CAAa,UAAUC,IAAV,EAAgB;AAC/B,YAAIC,aAAa,GAAGd,gBAAgB,CAACa,IAAD,CAApC;AACA,eAAO,CAACC,aAAD,KAAmBA,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACC,QAAd,CAAuBP,KAAK,CAACJ,MAA7B,CAAjF,CAAP;AACD,OAHG,CAAJ,EAGI;AACF;AACD;;AAEDE,MAAAA,cAAc,CAACU,OAAf,CAAuBR,KAAvB;AACD,KAXD;;AAaA,QAAIS,UAAU,GAAGP,KAAK,CAACC,OAAN,CAAcN,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CAAxD;AACAY,IAAAA,UAAU,CAACC,OAAX,CAAmB,UAAUV,KAAV,EAAiB;AAClC,aAAOW,QAAQ,CAACC,gBAAT,CAA0BZ,KAA1B,EAAiCD,OAAjC,CAAP;AACD,KAFD;AAGA,WAAO,YAAY;AACjBU,MAAAA,UAAU,CAACC,OAAX,CAAmB,UAAUV,KAAV,EAAiB;AAClC,eAAOW,QAAQ,CAACE,mBAAT,CAA6Bb,KAA7B,EAAoCD,OAApC,CAAP;AACD,OAFD;AAGD,KAJD;AAKD,GAvBkB,EAuBhBG,KAAK,CAACC,OAAN,CAAcN,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CAvBvB,EAuBoCD,MAvBpC,CAAnB;AAwBD","sourcesContent":["import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nexport default function useClickAway(onClickAway, target, eventName) {\n  if (eventName === void 0) {\n    eventName = 'click';\n  }\n\n  var onClickAwayRef = useLatest(onClickAway);\n  useEffectWithTarget(function () {\n    var handler = function handler(event) {\n      var targets = Array.isArray(target) ? target : [target];\n\n      if (targets.some(function (item) {\n        var targetElement = getTargetElement(item);\n        return !targetElement || (targetElement === null || targetElement === void 0 ? void 0 : targetElement.contains(event.target));\n      })) {\n        return;\n      }\n\n      onClickAwayRef.current(event);\n    };\n\n    var eventNames = Array.isArray(eventName) ? eventName : [eventName];\n    eventNames.forEach(function (event) {\n      return document.addEventListener(event, handler);\n    });\n    return function () {\n      eventNames.forEach(function (event) {\n        return document.removeEventListener(event, handler);\n      });\n    };\n  }, Array.isArray(eventName) ? eventName : [eventName], target);\n}"]},"metadata":{},"sourceType":"module"}