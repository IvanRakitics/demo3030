{"ast":null,"code":"import React from 'react';\nimport classNames from 'classnames';\nimport Badge from '../badge';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { Corner } from './corner';\nconst classPrefix = `adm-side-bar`;\nexport const SideBarItem = () => {\n  return null;\n};\nexport const SideBar = props => {\n  var _a;\n\n  let firstActiveKey = null;\n  const items = [];\n  React.Children.forEach(props.children, (child, index) => {\n    if (!React.isValidElement(child)) return;\n    const key = child.key;\n    if (typeof key !== 'string') return;\n\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n\n    items.push(child);\n  });\n  const [activeKey, setActiveKey] = usePropsValue({\n    value: props.activeKey,\n    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n    onChange: v => {\n      var _a;\n\n      if (v === null) return;\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n    }\n  });\n  const lastItem = items[items.length - 1];\n  const isLastItemActive = lastItem && lastItem.key === activeKey;\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-items`\n  }, items.map((item, index) => {\n    const active = item.key === activeKey;\n    const isActiveNextSibling = items[index - 1] && items[index - 1].key === activeKey;\n    const isActivePreviousSibling = items[index + 1] && items[index + 1].key === activeKey;\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: () => {\n        const {\n          key\n        } = item;\n        if (key === undefined || key === null || item.props.disabled) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(`${classPrefix}-item`, {\n        [`${classPrefix}-item-active`]: active,\n        [`${classPrefix}-item-disabled`]: item.props.disabled\n      })\n    }, React.createElement(React.Fragment, null, isActiveNextSibling && React.createElement(Corner, {\n      className: `${classPrefix}-item-corner ${classPrefix}-item-corner-top`\n    }), isActivePreviousSibling && React.createElement(Corner, {\n      className: `${classPrefix}-item-corner ${classPrefix}-item-corner-bottom`\n    })), React.createElement(Badge, {\n      content: item.props.badge,\n      className: `${classPrefix}-badge`\n    }, React.createElement(\"div\", {\n      className: `${classPrefix}-item-title`\n    }, active && React.createElement(\"div\", {\n      className: `${classPrefix}-item-highlight`\n    }), item.props.title))));\n  })), React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-extra-space`, isLastItemActive && `${classPrefix}-item-active-next-sibling`)\n  }, isLastItemActive && React.createElement(Corner, {\n    className: `${classPrefix}-item-corner ${classPrefix}-item-corner-top`\n  }))));\n};","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/side-bar/side-bar.js"],"names":["React","classNames","Badge","withNativeProps","usePropsValue","Corner","classPrefix","SideBarItem","SideBar","props","_a","firstActiveKey","items","Children","forEach","children","child","index","isValidElement","key","push","activeKey","setActiveKey","value","defaultValue","defaultActiveKey","onChange","v","call","lastItem","length","isLastItemActive","createElement","className","map","item","active","isActiveNextSibling","isActivePreviousSibling","onClick","undefined","disabled","toString","Fragment","content","badge","title"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport Badge from '../badge';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { Corner } from './corner';\nconst classPrefix = `adm-side-bar`;\nexport const SideBarItem = () => {\n  return null;\n};\nexport const SideBar = props => {\n  var _a;\n\n  let firstActiveKey = null;\n  const items = [];\n  React.Children.forEach(props.children, (child, index) => {\n    if (!React.isValidElement(child)) return;\n    const key = child.key;\n    if (typeof key !== 'string') return;\n\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n\n    items.push(child);\n  });\n  const [activeKey, setActiveKey] = usePropsValue({\n    value: props.activeKey,\n    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n    onChange: v => {\n      var _a;\n\n      if (v === null) return;\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n    }\n  });\n  const lastItem = items[items.length - 1];\n  const isLastItemActive = lastItem && lastItem.key === activeKey;\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-items`\n  }, items.map((item, index) => {\n    const active = item.key === activeKey;\n    const isActiveNextSibling = items[index - 1] && items[index - 1].key === activeKey;\n    const isActivePreviousSibling = items[index + 1] && items[index + 1].key === activeKey;\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: () => {\n        const {\n          key\n        } = item;\n        if (key === undefined || key === null || item.props.disabled) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(`${classPrefix}-item`, {\n        [`${classPrefix}-item-active`]: active,\n        [`${classPrefix}-item-disabled`]: item.props.disabled\n      })\n    }, React.createElement(React.Fragment, null, isActiveNextSibling && React.createElement(Corner, {\n      className: `${classPrefix}-item-corner ${classPrefix}-item-corner-top`\n    }), isActivePreviousSibling && React.createElement(Corner, {\n      className: `${classPrefix}-item-corner ${classPrefix}-item-corner-bottom`\n    })), React.createElement(Badge, {\n      content: item.props.badge,\n      className: `${classPrefix}-badge`\n    }, React.createElement(\"div\", {\n      className: `${classPrefix}-item-title`\n    }, active && React.createElement(\"div\", {\n      className: `${classPrefix}-item-highlight`\n    }), item.props.title))));\n  })), React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-extra-space`, isLastItemActive && `${classPrefix}-item-active-next-sibling`)\n  }, isLastItemActive && React.createElement(Corner, {\n    className: `${classPrefix}-item-corner ${classPrefix}-item-corner-top`\n  }))));\n};"]},"metadata":{},"sourceType":"module"}