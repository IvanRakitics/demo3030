{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport Popup from '../popup';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport CascaderView from '../cascader-view';\nimport { useConfig } from '../config-provider';\nimport { useCascaderValueExtend } from '../cascader-view/use-cascader-value-extend';\nconst classPrefix = `adm-cascader`;\nconst defaultProps = {\n  defaultValue: []\n};\nexport const Cascader = p => {\n  var _a;\n\n  const {\n    locale\n  } = useConfig();\n  const props = mergeProps(defaultProps, {\n    confirmText: locale.common.confirm,\n    cancelText: locale.common.cancel,\n    placeholder: locale.Cascader.placeholder\n  }, p);\n  const [value, setValue] = usePropsValue(Object.assign(Object.assign({}, props), {\n    onChange: val => {\n      var _a;\n\n      (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, generateValueExtend(val));\n    }\n  }));\n  const generateValueExtend = useCascaderValueExtend(props.options);\n  const [innerValue, setInnerValue] = useState(value);\n  useEffect(() => {\n    if (!props.visible) {\n      setInnerValue(value);\n    }\n  }, [props.visible]);\n  useEffect(() => {\n    if (!props.visible) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  const cascaderElement = withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-header`\n  }, React.createElement(\"a\", {\n    className: `${classPrefix}-header-button`,\n    onClick: () => {\n      var _a, _b;\n\n      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n      (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);\n    }\n  }, props.cancelText), React.createElement(\"div\", {\n    className: `${classPrefix}-header-title`\n  }, props.title), React.createElement(\"a\", {\n    className: `${classPrefix}-header-button`,\n    onClick: () => {\n      var _a;\n\n      setValue(innerValue);\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  }, props.confirmText)), React.createElement(\"div\", {\n    className: `${classPrefix}-body`\n  }, React.createElement(CascaderView, Object.assign({}, props, {\n    value: innerValue,\n    onChange: (val, ext) => {\n      var _a;\n\n      setInnerValue(val);\n\n      if (props.visible) {\n        (_a = props.onSelect) === null || _a === void 0 ? void 0 : _a.call(props, val, ext);\n      }\n    }\n  })))));\n  const popupElement = React.createElement(Popup, {\n    visible: props.visible,\n    position: 'bottom',\n    onMaskClick: () => {\n      var _a, _b;\n\n      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n      (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);\n    },\n    getContainer: props.getContainer,\n    destroyOnClose: true,\n    afterShow: props.afterShow,\n    afterClose: props.afterClose,\n    onClick: props.onClick,\n    stopPropagation: props.stopPropagation\n  }, cascaderElement);\n  return React.createElement(React.Fragment, null, popupElement, (_a = props.children) === null || _a === void 0 ? void 0 : _a.call(props, generateValueExtend(value).items));\n};","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/cascader/cascader.js"],"names":["React","useState","useEffect","Popup","mergeProps","withNativeProps","usePropsValue","CascaderView","useConfig","useCascaderValueExtend","classPrefix","defaultProps","defaultValue","Cascader","p","_a","locale","props","confirmText","common","confirm","cancelText","cancel","placeholder","value","setValue","Object","assign","onChange","val","onConfirm","call","generateValueExtend","options","innerValue","setInnerValue","visible","cascaderElement","createElement","className","onClick","_b","onCancel","onClose","title","ext","onSelect","popupElement","position","onMaskClick","getContainer","destroyOnClose","afterShow","afterClose","stopPropagation","Fragment","children","items"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Popup from '../popup';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport CascaderView from '../cascader-view';\nimport { useConfig } from '../config-provider';\nimport { useCascaderValueExtend } from '../cascader-view/use-cascader-value-extend';\nconst classPrefix = `adm-cascader`;\nconst defaultProps = {\n  defaultValue: []\n};\nexport const Cascader = p => {\n  var _a;\n\n  const {\n    locale\n  } = useConfig();\n  const props = mergeProps(defaultProps, {\n    confirmText: locale.common.confirm,\n    cancelText: locale.common.cancel,\n    placeholder: locale.Cascader.placeholder\n  }, p);\n  const [value, setValue] = usePropsValue(Object.assign(Object.assign({}, props), {\n    onChange: val => {\n      var _a;\n\n      (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, generateValueExtend(val));\n    }\n  }));\n  const generateValueExtend = useCascaderValueExtend(props.options);\n  const [innerValue, setInnerValue] = useState(value);\n  useEffect(() => {\n    if (!props.visible) {\n      setInnerValue(value);\n    }\n  }, [props.visible]);\n  useEffect(() => {\n    if (!props.visible) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  const cascaderElement = withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-header`\n  }, React.createElement(\"a\", {\n    className: `${classPrefix}-header-button`,\n    onClick: () => {\n      var _a, _b;\n\n      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n      (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);\n    }\n  }, props.cancelText), React.createElement(\"div\", {\n    className: `${classPrefix}-header-title`\n  }, props.title), React.createElement(\"a\", {\n    className: `${classPrefix}-header-button`,\n    onClick: () => {\n      var _a;\n\n      setValue(innerValue);\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  }, props.confirmText)), React.createElement(\"div\", {\n    className: `${classPrefix}-body`\n  }, React.createElement(CascaderView, Object.assign({}, props, {\n    value: innerValue,\n    onChange: (val, ext) => {\n      var _a;\n\n      setInnerValue(val);\n\n      if (props.visible) {\n        (_a = props.onSelect) === null || _a === void 0 ? void 0 : _a.call(props, val, ext);\n      }\n    }\n  })))));\n  const popupElement = React.createElement(Popup, {\n    visible: props.visible,\n    position: 'bottom',\n    onMaskClick: () => {\n      var _a, _b;\n\n      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n      (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);\n    },\n    getContainer: props.getContainer,\n    destroyOnClose: true,\n    afterShow: props.afterShow,\n    afterClose: props.afterClose,\n    onClick: props.onClick,\n    stopPropagation: props.stopPropagation\n  }, cascaderElement);\n  return React.createElement(React.Fragment, null, popupElement, (_a = props.children) === null || _a === void 0 ? void 0 : _a.call(props, generateValueExtend(value).items));\n};"]},"metadata":{},"sourceType":"module"}