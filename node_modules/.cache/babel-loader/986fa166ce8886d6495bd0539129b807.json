{"ast":null,"code":"import { useMemo } from 'react';\nimport { withCache } from '../../utils/with-cache';\nexport function generateColumnsExtend(rawColumns, val) {\n  const columns = withCache(() => {\n    const c = typeof rawColumns === 'function' ? rawColumns(val) : rawColumns;\n    return c.map(column => column.map(item => typeof item === 'string' ? {\n      label: item,\n      value: item\n    } : item));\n  });\n  const items = withCache(() => {\n    return val.map((v, index) => {\n      var _a;\n\n      const column = columns()[index];\n      if (!column) return null;\n      return (_a = column.find(item => item.value === v)) !== null && _a !== void 0 ? _a : null;\n    });\n  });\n  const extend = {\n    get columns() {\n      return columns();\n    },\n\n    get items() {\n      return items();\n    }\n\n  };\n  return extend;\n}\nexport function useColumnsExtend(rawColumns, value) {\n  return useMemo(() => generateColumnsExtend(rawColumns, value), [rawColumns, value]);\n}","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/picker-view/columns-extend.js"],"names":["useMemo","withCache","generateColumnsExtend","rawColumns","val","columns","c","map","column","item","label","value","items","v","index","_a","find","extend","useColumnsExtend"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,OAAO,SAASC,qBAAT,CAA+BC,UAA/B,EAA2CC,GAA3C,EAAgD;AACrD,QAAMC,OAAO,GAAGJ,SAAS,CAAC,MAAM;AAC9B,UAAMK,CAAC,GAAG,OAAOH,UAAP,KAAsB,UAAtB,GAAmCA,UAAU,CAACC,GAAD,CAA7C,GAAqDD,UAA/D;AACA,WAAOG,CAAC,CAACC,GAAF,CAAMC,MAAM,IAAIA,MAAM,CAACD,GAAP,CAAWE,IAAI,IAAI,OAAOA,IAAP,KAAgB,QAAhB,GAA2B;AACnEC,MAAAA,KAAK,EAAED,IAD4D;AAEnEE,MAAAA,KAAK,EAAEF;AAF4D,KAA3B,GAGtCA,IAHmB,CAAhB,CAAP;AAID,GANwB,CAAzB;AAOA,QAAMG,KAAK,GAAGX,SAAS,CAAC,MAAM;AAC5B,WAAOG,GAAG,CAACG,GAAJ,CAAQ,CAACM,CAAD,EAAIC,KAAJ,KAAc;AAC3B,UAAIC,EAAJ;;AAEA,YAAMP,MAAM,GAAGH,OAAO,GAAGS,KAAH,CAAtB;AACA,UAAI,CAACN,MAAL,EAAa,OAAO,IAAP;AACb,aAAO,CAACO,EAAE,GAAGP,MAAM,CAACQ,IAAP,CAAYP,IAAI,IAAIA,IAAI,CAACE,KAAL,KAAeE,CAAnC,CAAN,MAAiD,IAAjD,IAAyDE,EAAE,KAAK,KAAK,CAArE,GAAyEA,EAAzE,GAA8E,IAArF;AACD,KANM,CAAP;AAOD,GARsB,CAAvB;AASA,QAAME,MAAM,GAAG;AACb,QAAIZ,OAAJ,GAAc;AACZ,aAAOA,OAAO,EAAd;AACD,KAHY;;AAKb,QAAIO,KAAJ,GAAY;AACV,aAAOA,KAAK,EAAZ;AACD;;AAPY,GAAf;AAUA,SAAOK,MAAP;AACD;AACD,OAAO,SAASC,gBAAT,CAA0Bf,UAA1B,EAAsCQ,KAAtC,EAA6C;AAClD,SAAOX,OAAO,CAAC,MAAME,qBAAqB,CAACC,UAAD,EAAaQ,KAAb,CAA5B,EAAiD,CAACR,UAAD,EAAaQ,KAAb,CAAjD,CAAd;AACD","sourcesContent":["import { useMemo } from 'react';\nimport { withCache } from '../../utils/with-cache';\nexport function generateColumnsExtend(rawColumns, val) {\n  const columns = withCache(() => {\n    const c = typeof rawColumns === 'function' ? rawColumns(val) : rawColumns;\n    return c.map(column => column.map(item => typeof item === 'string' ? {\n      label: item,\n      value: item\n    } : item));\n  });\n  const items = withCache(() => {\n    return val.map((v, index) => {\n      var _a;\n\n      const column = columns()[index];\n      if (!column) return null;\n      return (_a = column.find(item => item.value === v)) !== null && _a !== void 0 ? _a : null;\n    });\n  });\n  const extend = {\n    get columns() {\n      return columns();\n    },\n\n    get items() {\n      return items();\n    }\n\n  };\n  return extend;\n}\nexport function useColumnsExtend(rawColumns, value) {\n  return useMemo(() => generateColumnsExtend(rawColumns, value), [rawColumns, value]);\n}"]},"metadata":{},"sourceType":"module"}