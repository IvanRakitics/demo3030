{"ast":null,"code":"import { useIsomorphicLayoutEffect, useMemoizedFn } from 'ahooks';\nexport function useResizeEffect(effect, targetRef) {\n  const fn = useMemoizedFn(effect);\n  useIsomorphicLayoutEffect(() => {\n    const target = targetRef.current;\n    if (!target) return;\n\n    if (window.ResizeObserver) {\n      const observer = new ResizeObserver(() => {\n        fn(target);\n      });\n      observer.observe(target);\n      return () => {\n        observer.disconnect();\n      };\n    } else {\n      fn(target);\n    }\n  }, [targetRef]);\n}","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/utils/use-resize-effect.js"],"names":["useIsomorphicLayoutEffect","useMemoizedFn","useResizeEffect","effect","targetRef","fn","target","current","window","ResizeObserver","observer","observe","disconnect"],"mappings":"AAAA,SAASA,yBAAT,EAAoCC,aAApC,QAAyD,QAAzD;AACA,OAAO,SAASC,eAAT,CAAyBC,MAAzB,EAAiCC,SAAjC,EAA4C;AACjD,QAAMC,EAAE,GAAGJ,aAAa,CAACE,MAAD,CAAxB;AACAH,EAAAA,yBAAyB,CAAC,MAAM;AAC9B,UAAMM,MAAM,GAAGF,SAAS,CAACG,OAAzB;AACA,QAAI,CAACD,MAAL,EAAa;;AAEb,QAAIE,MAAM,CAACC,cAAX,EAA2B;AACzB,YAAMC,QAAQ,GAAG,IAAID,cAAJ,CAAmB,MAAM;AACxCJ,QAAAA,EAAE,CAACC,MAAD,CAAF;AACD,OAFgB,CAAjB;AAGAI,MAAAA,QAAQ,CAACC,OAAT,CAAiBL,MAAjB;AACA,aAAO,MAAM;AACXI,QAAAA,QAAQ,CAACE,UAAT;AACD,OAFD;AAGD,KARD,MAQO;AACLP,MAAAA,EAAE,CAACC,MAAD,CAAF;AACD;AACF,GAfwB,EAetB,CAACF,SAAD,CAfsB,CAAzB;AAgBD","sourcesContent":["import { useIsomorphicLayoutEffect, useMemoizedFn } from 'ahooks';\nexport function useResizeEffect(effect, targetRef) {\n  const fn = useMemoizedFn(effect);\n  useIsomorphicLayoutEffect(() => {\n    const target = targetRef.current;\n    if (!target) return;\n\n    if (window.ResizeObserver) {\n      const observer = new ResizeObserver(() => {\n        fn(target);\n      });\n      observer.observe(target);\n      return () => {\n        observer.disconnect();\n      };\n    } else {\n      fn(target);\n    }\n  }, [targetRef]);\n}"]},"metadata":{},"sourceType":"module"}