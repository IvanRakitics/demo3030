{"ast":null,"code":"import React, { useState } from 'react';\nimport classNames from 'classnames';\nconst classPrefix = `adm-index-bar`;\nexport const Sidebar = props => {\n  const [interacting, setInteracting] = useState(false);\n  return React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-sidebar`, {\n      [`${classPrefix}-sidebar-interacting`]: interacting\n    }),\n    onMouseDown: () => {\n      setInteracting(true);\n    },\n    onMouseUp: () => {\n      setInteracting(false);\n    },\n    onTouchStart: () => {\n      setInteracting(true);\n    },\n    onTouchEnd: () => {\n      setInteracting(false);\n    },\n    onTouchMove: e => {\n      if (!interacting) return;\n      const {\n        clientX,\n        clientY\n      } = e.touches[0];\n      const target = document.elementFromPoint(clientX, clientY);\n      if (!target) return;\n      const index = target.dataset['index'];\n\n      if (index) {\n        props.onActive(index);\n      }\n    }\n  }, props.indexItems.map(_ref => {\n    let {\n      index,\n      brief\n    } = _ref;\n    const active = index === props.activeIndex;\n    return React.createElement(\"div\", {\n      className: `${classPrefix}-sidebar-row`,\n      onMouseDown: () => {\n        props.onActive(index);\n      },\n      onTouchStart: () => {\n        props.onActive(index);\n      },\n      onMouseEnter: () => {\n        if (interacting) {\n          props.onActive(index);\n        }\n      },\n      \"data-index\": index,\n      key: index\n    }, interacting && active && React.createElement(\"div\", {\n      className: `${classPrefix}-sidebar-bubble`\n    }, brief), React.createElement(\"div\", {\n      className: classNames(`${classPrefix}-sidebar-item`, {\n        [`${classPrefix}-sidebar-item-active`]: active\n      }),\n      \"data-index\": index\n    }, React.createElement(\"div\", null, brief)));\n  }));\n};","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/index-bar/sidebar.js"],"names":["React","useState","classNames","classPrefix","Sidebar","props","interacting","setInteracting","createElement","className","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onTouchMove","e","clientX","clientY","touches","target","document","elementFromPoint","index","dataset","onActive","indexItems","map","brief","active","activeIndex","onMouseEnter","key"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport classNames from 'classnames';\nconst classPrefix = `adm-index-bar`;\nexport const Sidebar = props => {\n  const [interacting, setInteracting] = useState(false);\n  return React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-sidebar`, {\n      [`${classPrefix}-sidebar-interacting`]: interacting\n    }),\n    onMouseDown: () => {\n      setInteracting(true);\n    },\n    onMouseUp: () => {\n      setInteracting(false);\n    },\n    onTouchStart: () => {\n      setInteracting(true);\n    },\n    onTouchEnd: () => {\n      setInteracting(false);\n    },\n    onTouchMove: e => {\n      if (!interacting) return;\n      const {\n        clientX,\n        clientY\n      } = e.touches[0];\n      const target = document.elementFromPoint(clientX, clientY);\n      if (!target) return;\n      const index = target.dataset['index'];\n\n      if (index) {\n        props.onActive(index);\n      }\n    }\n  }, props.indexItems.map(({\n    index,\n    brief\n  }) => {\n    const active = index === props.activeIndex;\n    return React.createElement(\"div\", {\n      className: `${classPrefix}-sidebar-row`,\n      onMouseDown: () => {\n        props.onActive(index);\n      },\n      onTouchStart: () => {\n        props.onActive(index);\n      },\n      onMouseEnter: () => {\n        if (interacting) {\n          props.onActive(index);\n        }\n      },\n      \"data-index\": index,\n      key: index\n    }, interacting && active && React.createElement(\"div\", {\n      className: `${classPrefix}-sidebar-bubble`\n    }, brief), React.createElement(\"div\", {\n      className: classNames(`${classPrefix}-sidebar-item`, {\n        [`${classPrefix}-sidebar-item-active`]: active\n      }),\n      \"data-index\": index\n    }, React.createElement(\"div\", null, brief)));\n  }));\n};"]},"metadata":{},"sourceType":"module"}