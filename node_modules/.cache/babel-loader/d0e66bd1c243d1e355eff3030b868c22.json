{"ast":null,"code":"import { __rest } from \"tslib\";\nimport React, { useContext, useCallback, useState } from 'react';\nimport classNames from 'classnames';\nimport { Field } from 'rc-field-form';\nimport FieldContext from 'rc-field-form/lib/FieldContext';\nimport { devWarning } from '../../utils/dev-log';\nimport { FormContext, NoStyleItemContext } from './context';\nimport { toArray } from './utils';\nimport List from '../list';\nimport Popover from '../popover';\nimport { QuestionCircleOutline } from 'antd-mobile-icons';\nimport { useConfig } from '../config-provider';\nconst NAME_SPLIT = '__SPLIT__';\nconst classPrefix = `adm-form-item`;\nconst MemoInput = React.memo(_ref => {\n  let {\n    children\n  } = _ref;\n  return children;\n}, (prev, next) => prev.value === next.value && prev.update === next.update);\n\nconst FormItemLayout = props => {\n  const {\n    className,\n    style,\n    extra,\n    label,\n    help,\n    required,\n    disabled,\n    children,\n    htmlFor,\n    hidden,\n    arrow,\n    childElementPosition = 'normal'\n  } = props;\n  const context = useContext(FormContext);\n  const {\n    locale\n  } = useConfig();\n  const hasFeedback = props.hasFeedback !== undefined ? props.hasFeedback : context.hasFeedback;\n  const layout = props.layout || context.layout;\n\n  const requiredMark = (() => {\n    const {\n      requiredMarkStyle\n    } = context;\n\n    switch (requiredMarkStyle) {\n      case 'asterisk':\n        return required && React.createElement(\"span\", {\n          className: `${classPrefix}-required-asterisk`\n        }, \"*\");\n\n      case 'text-required':\n        return required && React.createElement(\"span\", {\n          className: `${classPrefix}-required-text`\n        }, \"(\", locale.Form.required, \")\");\n\n      case 'text-optional':\n        return !required && React.createElement(\"span\", {\n          className: `${classPrefix}-required-text`\n        }, \"(\", locale.Form.optional, \")\");\n\n      default:\n        return null;\n    }\n  })();\n\n  const labelElement = label ? React.createElement(\"label\", {\n    className: `${classPrefix}-label`,\n    htmlFor: htmlFor\n  }, label, requiredMark, help && React.createElement(Popover, {\n    content: help,\n    mode: 'dark',\n    trigger: 'click'\n  }, React.createElement(\"span\", {\n    className: `${classPrefix}-label-help`,\n    onClick: e => {\n      e.preventDefault();\n    }\n  }, React.createElement(QuestionCircleOutline, null)))) : null;\n  const description = React.createElement(React.Fragment, null, props.description, hasFeedback && React.createElement(React.Fragment, null, props.errors.map((error, index) => React.createElement(\"div\", {\n    key: `error-${index}`,\n    className: `${classPrefix}-feedback-error`\n  }, error)), props.warnings.map((warning, index) => React.createElement(\"div\", {\n    key: `warning-${index}`,\n    className: `${classPrefix}-feedback-warning`\n  }, warning))));\n  return React.createElement(List.Item, {\n    style: style,\n    title: layout === 'vertical' && labelElement,\n    prefix: layout === 'horizontal' && labelElement,\n    extra: extra,\n    description: description,\n    className: classNames(classPrefix, className, `${classPrefix}-${layout}`, {\n      [`${classPrefix}-hidden`]: hidden\n    }),\n    disabled: disabled,\n    onClick: props.onClick,\n    clickable: props.clickable,\n    arrow: arrow\n  }, React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-child`, `${classPrefix}-child-position-${childElementPosition}`)\n  }, React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-child-inner`)\n  }, children)));\n};\n\nexport const FormItem = props => {\n  const {\n    // 样式相关\n    className,\n    style,\n    // FormItem 相关\n    label,\n    help,\n    extra,\n    hasFeedback,\n    name,\n    required,\n    noStyle,\n    hidden,\n    layout,\n    childElementPosition,\n    description,\n    // Field 相关\n    disabled,\n    rules,\n    children,\n    messageVariables,\n    trigger = 'onChange',\n    validateTrigger = trigger,\n    onClick,\n    shouldUpdate,\n    dependencies,\n    clickable,\n    arrow\n  } = props,\n        fieldProps = __rest(props, [\"className\", \"style\", \"label\", \"help\", \"extra\", \"hasFeedback\", \"name\", \"required\", \"noStyle\", \"hidden\", \"layout\", \"childElementPosition\", \"description\", \"disabled\", \"rules\", \"children\", \"messageVariables\", \"trigger\", \"validateTrigger\", \"onClick\", \"shouldUpdate\", \"dependencies\", \"clickable\", \"arrow\"]);\n\n  const {\n    name: formName\n  } = useContext(FormContext);\n  const {\n    validateTrigger: contextValidateTrigger\n  } = useContext(FieldContext);\n  const mergedValidateTrigger = validateTrigger !== undefined ? validateTrigger : contextValidateTrigger;\n  const updateRef = React.useRef(0);\n  updateRef.current += 1;\n  const [subMetas, setSubMetas] = useState({});\n  const onSubMetaChange = useCallback((subMeta, namePath) => {\n    setSubMetas(prevSubMetas => {\n      const nextSubMetas = Object.assign({}, prevSubMetas);\n      const nameKey = namePath.join(NAME_SPLIT);\n\n      if (subMeta.destroy) {\n        delete nextSubMetas[nameKey];\n      } else {\n        nextSubMetas[nameKey] = subMeta;\n      }\n\n      return nextSubMetas;\n    });\n  }, [setSubMetas]);\n\n  function renderLayout(baseChildren, fieldId, meta, isRequired) {\n    var _a, _b;\n\n    if (noStyle && !hidden) {\n      return baseChildren;\n    }\n\n    const curErrors = (_a = meta === null || meta === void 0 ? void 0 : meta.errors) !== null && _a !== void 0 ? _a : [];\n    const errors = Object.keys(subMetas).reduce((subErrors, key) => {\n      var _a, _b;\n\n      const errors = (_b = (_a = subMetas[key]) === null || _a === void 0 ? void 0 : _a.errors) !== null && _b !== void 0 ? _b : [];\n\n      if (errors.length) {\n        subErrors = [...subErrors, ...errors];\n      }\n\n      return subErrors;\n    }, curErrors);\n    const curWarnings = (_b = meta === null || meta === void 0 ? void 0 : meta.warnings) !== null && _b !== void 0 ? _b : [];\n    const warnings = Object.keys(subMetas).reduce((subWarnings, key) => {\n      var _a, _b;\n\n      const warnings = (_b = (_a = subMetas[key]) === null || _a === void 0 ? void 0 : _a.warnings) !== null && _b !== void 0 ? _b : [];\n\n      if (warnings.length) {\n        subWarnings = [...subWarnings, ...warnings];\n      }\n\n      return subWarnings;\n    }, curWarnings);\n    return React.createElement(FormItemLayout, {\n      className: className,\n      style: style,\n      label: label,\n      extra: extra,\n      help: help,\n      description: description,\n      required: isRequired,\n      disabled: disabled,\n      hasFeedback: hasFeedback,\n      htmlFor: fieldId,\n      errors: errors,\n      warnings: warnings,\n      onClick: onClick,\n      hidden: hidden,\n      layout: layout,\n      childElementPosition: childElementPosition,\n      clickable: clickable,\n      arrow: arrow\n    }, React.createElement(NoStyleItemContext.Provider, {\n      value: onSubMetaChange\n    }, baseChildren));\n  }\n\n  const isRenderProps = typeof children === 'function';\n\n  if (!name && !isRenderProps && !props.dependencies) {\n    return renderLayout(children);\n  }\n\n  let Variables = {};\n\n  if (typeof label === 'string') {\n    Variables.label = label;\n  }\n\n  if (messageVariables) {\n    Variables = Object.assign(Object.assign({}, Variables), messageVariables);\n  }\n\n  const notifyParentMetaChange = useContext(NoStyleItemContext);\n\n  const onMetaChange = meta => {\n    if (noStyle && notifyParentMetaChange) {\n      const namePath = meta.name;\n      notifyParentMetaChange(meta, namePath);\n    }\n  };\n\n  return React.createElement(Field, Object.assign({}, fieldProps, {\n    name: name,\n    shouldUpdate: shouldUpdate,\n    dependencies: dependencies,\n    rules: rules,\n    trigger: trigger,\n    validateTrigger: mergedValidateTrigger,\n    onMetaChange: onMetaChange,\n    messageVariables: Variables\n  }), (control, meta, context) => {\n    let childNode = null;\n    const isRequired = required !== undefined ? required : rules && rules.some(rule => !!(rule && typeof rule === 'object' && rule.required));\n    const nameList = toArray(name).length && meta ? meta.name : [];\n    const fieldId = (nameList.length > 0 && formName ? [formName, ...nameList] : nameList).join('_');\n\n    if (shouldUpdate && dependencies) {\n      devWarning('Form.Item', \"`shouldUpdate` and `dependencies` shouldn't be used together.\");\n    }\n\n    if (isRenderProps) {\n      if ((shouldUpdate || dependencies) && !name) {\n        childNode = children(context);\n      } else {\n        if (!(shouldUpdate || dependencies)) {\n          devWarning('Form.Item', '`children` of render props only work with `shouldUpdate` or `dependencies`.');\n        }\n\n        if (name) {\n          devWarning('Form.Item', \"Do not use `name` with `children` of render props since it's not a field.\");\n        }\n      } // not render props\n\n    } else if (dependencies && !name) {\n      devWarning('Form.Item', 'Must set `name` or use render props when `dependencies` is set.');\n    } else if (React.isValidElement(children)) {\n      if (children.props.defaultValue) {\n        devWarning('Form.Item', '`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.');\n      }\n\n      const childProps = Object.assign(Object.assign({}, children.props), control);\n\n      if (!childProps.id) {\n        childProps.id = fieldId;\n      } // We should keep user origin event handler\n\n\n      const triggers = new Set([...toArray(trigger), ...toArray(mergedValidateTrigger)]);\n      triggers.forEach(eventName => {\n        childProps[eventName] = function () {\n          var _a, _b, _c;\n\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          (_a = control[eventName]) === null || _a === void 0 ? void 0 : _a.call(control, ...args);\n          (_c = (_b = children.props)[eventName]) === null || _c === void 0 ? void 0 : _c.call(_b, ...args);\n        };\n      });\n      childNode = React.createElement(MemoInput, {\n        value: control[props.valuePropName || 'value'],\n        update: updateRef.current\n      }, React.cloneElement(children, childProps));\n    } else {\n      if (name) {\n        devWarning('Form.Item', '`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead.');\n      }\n\n      childNode = children;\n    }\n\n    return renderLayout(childNode, fieldId, meta, isRequired);\n  });\n};","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/form/form-item.js"],"names":["__rest","React","useContext","useCallback","useState","classNames","Field","FieldContext","devWarning","FormContext","NoStyleItemContext","toArray","List","Popover","QuestionCircleOutline","useConfig","NAME_SPLIT","classPrefix","MemoInput","memo","children","prev","next","value","update","FormItemLayout","props","className","style","extra","label","help","required","disabled","htmlFor","hidden","arrow","childElementPosition","context","locale","hasFeedback","undefined","layout","requiredMark","requiredMarkStyle","createElement","Form","optional","labelElement","content","mode","trigger","onClick","e","preventDefault","description","Fragment","errors","map","error","index","key","warnings","warning","Item","title","prefix","clickable","FormItem","name","noStyle","rules","messageVariables","validateTrigger","shouldUpdate","dependencies","fieldProps","formName","contextValidateTrigger","mergedValidateTrigger","updateRef","useRef","current","subMetas","setSubMetas","onSubMetaChange","subMeta","namePath","prevSubMetas","nextSubMetas","Object","assign","nameKey","join","destroy","renderLayout","baseChildren","fieldId","meta","isRequired","_a","_b","curErrors","keys","reduce","subErrors","length","curWarnings","subWarnings","Provider","isRenderProps","Variables","notifyParentMetaChange","onMetaChange","control","childNode","some","rule","nameList","isValidElement","defaultValue","childProps","id","triggers","Set","forEach","eventName","_c","args","call","valuePropName","cloneElement"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,WAA5B,EAAyCC,QAAzC,QAAyD,OAAzD;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,SAASC,WAAT,EAAsBC,kBAAtB,QAAgD,WAAhD;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,SAASC,qBAAT,QAAsC,mBAAtC;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,MAAMC,UAAU,GAAG,WAAnB;AACA,MAAMC,WAAW,GAAI,eAArB;AACA,MAAMC,SAAS,GAAGjB,KAAK,CAACkB,IAAN,CAAW;AAAA,MAAC;AAC5BC,IAAAA;AAD4B,GAAD;AAAA,SAEvBA,QAFuB;AAAA,CAAX,EAEF,CAACC,IAAD,EAAOC,IAAP,KAAgBD,IAAI,CAACE,KAAL,KAAeD,IAAI,CAACC,KAApB,IAA6BF,IAAI,CAACG,MAAL,KAAgBF,IAAI,CAACE,MAFhE,CAAlB;;AAIA,MAAMC,cAAc,GAAGC,KAAK,IAAI;AAC9B,QAAM;AACJC,IAAAA,SADI;AAEJC,IAAAA,KAFI;AAGJC,IAAAA,KAHI;AAIJC,IAAAA,KAJI;AAKJC,IAAAA,IALI;AAMJC,IAAAA,QANI;AAOJC,IAAAA,QAPI;AAQJb,IAAAA,QARI;AASJc,IAAAA,OATI;AAUJC,IAAAA,MAVI;AAWJC,IAAAA,KAXI;AAYJC,IAAAA,oBAAoB,GAAG;AAZnB,MAaFX,KAbJ;AAcA,QAAMY,OAAO,GAAGpC,UAAU,CAACO,WAAD,CAA1B;AACA,QAAM;AACJ8B,IAAAA;AADI,MAEFxB,SAAS,EAFb;AAGA,QAAMyB,WAAW,GAAGd,KAAK,CAACc,WAAN,KAAsBC,SAAtB,GAAkCf,KAAK,CAACc,WAAxC,GAAsDF,OAAO,CAACE,WAAlF;AACA,QAAME,MAAM,GAAGhB,KAAK,CAACgB,MAAN,IAAgBJ,OAAO,CAACI,MAAvC;;AAEA,QAAMC,YAAY,GAAG,CAAC,MAAM;AAC1B,UAAM;AACJC,MAAAA;AADI,QAEFN,OAFJ;;AAIA,YAAQM,iBAAR;AACE,WAAK,UAAL;AACE,eAAOZ,QAAQ,IAAI/B,KAAK,CAAC4C,aAAN,CAAoB,MAApB,EAA4B;AAC7ClB,UAAAA,SAAS,EAAG,GAAEV,WAAY;AADmB,SAA5B,EAEhB,GAFgB,CAAnB;;AAIF,WAAK,eAAL;AACE,eAAOe,QAAQ,IAAI/B,KAAK,CAAC4C,aAAN,CAAoB,MAApB,EAA4B;AAC7ClB,UAAAA,SAAS,EAAG,GAAEV,WAAY;AADmB,SAA5B,EAEhB,GAFgB,EAEXsB,MAAM,CAACO,IAAP,CAAYd,QAFD,EAEW,GAFX,CAAnB;;AAIF,WAAK,eAAL;AACE,eAAO,CAACA,QAAD,IAAa/B,KAAK,CAAC4C,aAAN,CAAoB,MAApB,EAA4B;AAC9ClB,UAAAA,SAAS,EAAG,GAAEV,WAAY;AADoB,SAA5B,EAEjB,GAFiB,EAEZsB,MAAM,CAACO,IAAP,CAAYC,QAFA,EAEU,GAFV,CAApB;;AAIF;AACE,eAAO,IAAP;AAjBJ;AAmBD,GAxBoB,GAArB;;AA0BA,QAAMC,YAAY,GAAGlB,KAAK,GAAG7B,KAAK,CAAC4C,aAAN,CAAoB,OAApB,EAA6B;AACxDlB,IAAAA,SAAS,EAAG,GAAEV,WAAY,QAD8B;AAExDiB,IAAAA,OAAO,EAAEA;AAF+C,GAA7B,EAG1BJ,KAH0B,EAGnBa,YAHmB,EAGLZ,IAAI,IAAI9B,KAAK,CAAC4C,aAAN,CAAoBhC,OAApB,EAA6B;AAC3DoC,IAAAA,OAAO,EAAElB,IADkD;AAE3DmB,IAAAA,IAAI,EAAE,MAFqD;AAG3DC,IAAAA,OAAO,EAAE;AAHkD,GAA7B,EAI7BlD,KAAK,CAAC4C,aAAN,CAAoB,MAApB,EAA4B;AAC7BlB,IAAAA,SAAS,EAAG,GAAEV,WAAY,aADG;AAE7BmC,IAAAA,OAAO,EAAEC,CAAC,IAAI;AACZA,MAAAA,CAAC,CAACC,cAAF;AACD;AAJ4B,GAA5B,EAKArD,KAAK,CAAC4C,aAAN,CAAoB/B,qBAApB,EAA2C,IAA3C,CALA,CAJ6B,CAHH,CAAH,GAY+B,IAZzD;AAaA,QAAMyC,WAAW,GAAGtD,KAAK,CAAC4C,aAAN,CAAoB5C,KAAK,CAACuD,QAA1B,EAAoC,IAApC,EAA0C9B,KAAK,CAAC6B,WAAhD,EAA6Df,WAAW,IAAIvC,KAAK,CAAC4C,aAAN,CAAoB5C,KAAK,CAACuD,QAA1B,EAAoC,IAApC,EAA0C9B,KAAK,CAAC+B,MAAN,CAAaC,GAAb,CAAiB,CAACC,KAAD,EAAQC,KAAR,KAAkB3D,KAAK,CAAC4C,aAAN,CAAoB,KAApB,EAA2B;AACtMgB,IAAAA,GAAG,EAAG,SAAQD,KAAM,EADkL;AAEtMjC,IAAAA,SAAS,EAAG,GAAEV,WAAY;AAF4K,GAA3B,EAG1K0C,KAH0K,CAAnC,CAA1C,EAGpFjC,KAAK,CAACoC,QAAN,CAAeJ,GAAf,CAAmB,CAACK,OAAD,EAAUH,KAAV,KAAoB3D,KAAK,CAAC4C,aAAN,CAAoB,KAApB,EAA2B;AAC5EgB,IAAAA,GAAG,EAAG,WAAUD,KAAM,EADsD;AAE5EjC,IAAAA,SAAS,EAAG,GAAEV,WAAY;AAFkD,GAA3B,EAGhD8C,OAHgD,CAAvC,CAHoF,CAA5E,CAApB;AAOA,SAAO9D,KAAK,CAAC4C,aAAN,CAAoBjC,IAAI,CAACoD,IAAzB,EAA+B;AACpCpC,IAAAA,KAAK,EAAEA,KAD6B;AAEpCqC,IAAAA,KAAK,EAAEvB,MAAM,KAAK,UAAX,IAAyBM,YAFI;AAGpCkB,IAAAA,MAAM,EAAExB,MAAM,KAAK,YAAX,IAA2BM,YAHC;AAIpCnB,IAAAA,KAAK,EAAEA,KAJ6B;AAKpC0B,IAAAA,WAAW,EAAEA,WALuB;AAMpC5B,IAAAA,SAAS,EAAEtB,UAAU,CAACY,WAAD,EAAcU,SAAd,EAA0B,GAAEV,WAAY,IAAGyB,MAAO,EAAlD,EAAqD;AACxE,OAAE,GAAEzB,WAAY,SAAhB,GAA2BkB;AAD6C,KAArD,CANe;AASpCF,IAAAA,QAAQ,EAAEA,QAT0B;AAUpCmB,IAAAA,OAAO,EAAE1B,KAAK,CAAC0B,OAVqB;AAWpCe,IAAAA,SAAS,EAAEzC,KAAK,CAACyC,SAXmB;AAYpC/B,IAAAA,KAAK,EAAEA;AAZ6B,GAA/B,EAaJnC,KAAK,CAAC4C,aAAN,CAAoB,KAApB,EAA2B;AAC5BlB,IAAAA,SAAS,EAAEtB,UAAU,CAAE,GAAEY,WAAY,QAAhB,EAA0B,GAAEA,WAAY,mBAAkBoB,oBAAqB,EAA/E;AADO,GAA3B,EAEApC,KAAK,CAAC4C,aAAN,CAAoB,KAApB,EAA2B;AAC5BlB,IAAAA,SAAS,EAAEtB,UAAU,CAAE,GAAEY,WAAY,cAAhB;AADO,GAA3B,EAEAG,QAFA,CAFA,CAbI,CAAP;AAkBD,CAtFD;;AAwFA,OAAO,MAAMgD,QAAQ,GAAG1C,KAAK,IAAI;AAC/B,QAAM;AACJ;AACAC,IAAAA,SAFI;AAGJC,IAAAA,KAHI;AAIJ;AACAE,IAAAA,KALI;AAMJC,IAAAA,IANI;AAOJF,IAAAA,KAPI;AAQJW,IAAAA,WARI;AASJ6B,IAAAA,IATI;AAUJrC,IAAAA,QAVI;AAWJsC,IAAAA,OAXI;AAYJnC,IAAAA,MAZI;AAaJO,IAAAA,MAbI;AAcJL,IAAAA,oBAdI;AAeJkB,IAAAA,WAfI;AAgBJ;AACAtB,IAAAA,QAjBI;AAkBJsC,IAAAA,KAlBI;AAmBJnD,IAAAA,QAnBI;AAoBJoD,IAAAA,gBApBI;AAqBJrB,IAAAA,OAAO,GAAG,UArBN;AAsBJsB,IAAAA,eAAe,GAAGtB,OAtBd;AAuBJC,IAAAA,OAvBI;AAwBJsB,IAAAA,YAxBI;AAyBJC,IAAAA,YAzBI;AA0BJR,IAAAA,SA1BI;AA2BJ/B,IAAAA;AA3BI,MA4BFV,KA5BJ;AAAA,QA6BMkD,UAAU,GAAG5E,MAAM,CAAC0B,KAAD,EAAQ,CAAC,WAAD,EAAc,OAAd,EAAuB,OAAvB,EAAgC,MAAhC,EAAwC,OAAxC,EAAiD,aAAjD,EAAgE,MAAhE,EAAwE,UAAxE,EAAoF,SAApF,EAA+F,QAA/F,EAAyG,QAAzG,EAAmH,sBAAnH,EAA2I,aAA3I,EAA0J,UAA1J,EAAsK,OAAtK,EAA+K,UAA/K,EAA2L,kBAA3L,EAA+M,SAA/M,EAA0N,iBAA1N,EAA6O,SAA7O,EAAwP,cAAxP,EAAwQ,cAAxQ,EAAwR,WAAxR,EAAqS,OAArS,CAAR,CA7BzB;;AA+BA,QAAM;AACJ2C,IAAAA,IAAI,EAAEQ;AADF,MAEF3E,UAAU,CAACO,WAAD,CAFd;AAGA,QAAM;AACJgE,IAAAA,eAAe,EAAEK;AADb,MAEF5E,UAAU,CAACK,YAAD,CAFd;AAGA,QAAMwE,qBAAqB,GAAGN,eAAe,KAAKhC,SAApB,GAAgCgC,eAAhC,GAAkDK,sBAAhF;AACA,QAAME,SAAS,GAAG/E,KAAK,CAACgF,MAAN,CAAa,CAAb,CAAlB;AACAD,EAAAA,SAAS,CAACE,OAAV,IAAqB,CAArB;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BhF,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAMiF,eAAe,GAAGlF,WAAW,CAAC,CAACmF,OAAD,EAAUC,QAAV,KAAuB;AACzDH,IAAAA,WAAW,CAACI,YAAY,IAAI;AAC1B,YAAMC,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,YAAlB,CAArB;AACA,YAAMI,OAAO,GAAGL,QAAQ,CAACM,IAAT,CAAc7E,UAAd,CAAhB;;AAEA,UAAIsE,OAAO,CAACQ,OAAZ,EAAqB;AACnB,eAAOL,YAAY,CAACG,OAAD,CAAnB;AACD,OAFD,MAEO;AACLH,QAAAA,YAAY,CAACG,OAAD,CAAZ,GAAwBN,OAAxB;AACD;;AAED,aAAOG,YAAP;AACD,KAXU,CAAX;AAYD,GAbkC,EAahC,CAACL,WAAD,CAbgC,CAAnC;;AAeA,WAASW,YAAT,CAAsBC,YAAtB,EAAoCC,OAApC,EAA6CC,IAA7C,EAAmDC,UAAnD,EAA+D;AAC7D,QAAIC,EAAJ,EAAQC,EAAR;;AAEA,QAAI/B,OAAO,IAAI,CAACnC,MAAhB,EAAwB;AACtB,aAAO6D,YAAP;AACD;;AAED,UAAMM,SAAS,GAAG,CAACF,EAAE,GAAGF,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACzC,MAAvD,MAAmE,IAAnE,IAA2E2C,EAAE,KAAK,KAAK,CAAvF,GAA2FA,EAA3F,GAAgG,EAAlH;AACA,UAAM3C,MAAM,GAAGiC,MAAM,CAACa,IAAP,CAAYpB,QAAZ,EAAsBqB,MAAtB,CAA6B,CAACC,SAAD,EAAY5C,GAAZ,KAAoB;AAC9D,UAAIuC,EAAJ,EAAQC,EAAR;;AAEA,YAAM5C,MAAM,GAAG,CAAC4C,EAAE,GAAG,CAACD,EAAE,GAAGjB,QAAQ,CAACtB,GAAD,CAAd,MAAyB,IAAzB,IAAiCuC,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAAC3C,MAAnE,MAA+E,IAA/E,IAAuF4C,EAAE,KAAK,KAAK,CAAnG,GAAuGA,EAAvG,GAA4G,EAA3H;;AAEA,UAAI5C,MAAM,CAACiD,MAAX,EAAmB;AACjBD,QAAAA,SAAS,GAAG,CAAC,GAAGA,SAAJ,EAAe,GAAGhD,MAAlB,CAAZ;AACD;;AAED,aAAOgD,SAAP;AACD,KAVc,EAUZH,SAVY,CAAf;AAWA,UAAMK,WAAW,GAAG,CAACN,EAAE,GAAGH,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACpC,QAAvD,MAAqE,IAArE,IAA6EuC,EAAE,KAAK,KAAK,CAAzF,GAA6FA,EAA7F,GAAkG,EAAtH;AACA,UAAMvC,QAAQ,GAAG4B,MAAM,CAACa,IAAP,CAAYpB,QAAZ,EAAsBqB,MAAtB,CAA6B,CAACI,WAAD,EAAc/C,GAAd,KAAsB;AAClE,UAAIuC,EAAJ,EAAQC,EAAR;;AAEA,YAAMvC,QAAQ,GAAG,CAACuC,EAAE,GAAG,CAACD,EAAE,GAAGjB,QAAQ,CAACtB,GAAD,CAAd,MAAyB,IAAzB,IAAiCuC,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAACtC,QAAnE,MAAiF,IAAjF,IAAyFuC,EAAE,KAAK,KAAK,CAArG,GAAyGA,EAAzG,GAA8G,EAA/H;;AAEA,UAAIvC,QAAQ,CAAC4C,MAAb,EAAqB;AACnBE,QAAAA,WAAW,GAAG,CAAC,GAAGA,WAAJ,EAAiB,GAAG9C,QAApB,CAAd;AACD;;AAED,aAAO8C,WAAP;AACD,KAVgB,EAUdD,WAVc,CAAjB;AAWA,WAAO1G,KAAK,CAAC4C,aAAN,CAAoBpB,cAApB,EAAoC;AACzCE,MAAAA,SAAS,EAAEA,SAD8B;AAEzCC,MAAAA,KAAK,EAAEA,KAFkC;AAGzCE,MAAAA,KAAK,EAAEA,KAHkC;AAIzCD,MAAAA,KAAK,EAAEA,KAJkC;AAKzCE,MAAAA,IAAI,EAAEA,IALmC;AAMzCwB,MAAAA,WAAW,EAAEA,WAN4B;AAOzCvB,MAAAA,QAAQ,EAAEmE,UAP+B;AAQzClE,MAAAA,QAAQ,EAAEA,QAR+B;AASzCO,MAAAA,WAAW,EAAEA,WAT4B;AAUzCN,MAAAA,OAAO,EAAE+D,OAVgC;AAWzCxC,MAAAA,MAAM,EAAEA,MAXiC;AAYzCK,MAAAA,QAAQ,EAAEA,QAZ+B;AAazCV,MAAAA,OAAO,EAAEA,OAbgC;AAczCjB,MAAAA,MAAM,EAAEA,MAdiC;AAezCO,MAAAA,MAAM,EAAEA,MAfiC;AAgBzCL,MAAAA,oBAAoB,EAAEA,oBAhBmB;AAiBzC8B,MAAAA,SAAS,EAAEA,SAjB8B;AAkBzC/B,MAAAA,KAAK,EAAEA;AAlBkC,KAApC,EAmBJnC,KAAK,CAAC4C,aAAN,CAAoBnC,kBAAkB,CAACmG,QAAvC,EAAiD;AAClDtF,MAAAA,KAAK,EAAE8D;AAD2C,KAAjD,EAEAW,YAFA,CAnBI,CAAP;AAsBD;;AAED,QAAMc,aAAa,GAAG,OAAO1F,QAAP,KAAoB,UAA1C;;AAEA,MAAI,CAACiD,IAAD,IAAS,CAACyC,aAAV,IAA2B,CAACpF,KAAK,CAACiD,YAAtC,EAAoD;AAClD,WAAOoB,YAAY,CAAC3E,QAAD,CAAnB;AACD;;AAED,MAAI2F,SAAS,GAAG,EAAhB;;AAEA,MAAI,OAAOjF,KAAP,KAAiB,QAArB,EAA+B;AAC7BiF,IAAAA,SAAS,CAACjF,KAAV,GAAkBA,KAAlB;AACD;;AAED,MAAI0C,gBAAJ,EAAsB;AACpBuC,IAAAA,SAAS,GAAGrB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBoB,SAAlB,CAAd,EAA4CvC,gBAA5C,CAAZ;AACD;;AAED,QAAMwC,sBAAsB,GAAG9G,UAAU,CAACQ,kBAAD,CAAzC;;AAEA,QAAMuG,YAAY,GAAGf,IAAI,IAAI;AAC3B,QAAI5B,OAAO,IAAI0C,sBAAf,EAAuC;AACrC,YAAMzB,QAAQ,GAAGW,IAAI,CAAC7B,IAAtB;AACA2C,MAAAA,sBAAsB,CAACd,IAAD,EAAOX,QAAP,CAAtB;AACD;AACF,GALD;;AAOA,SAAOtF,KAAK,CAAC4C,aAAN,CAAoBvC,KAApB,EAA2BoF,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBf,UAAlB,EAA8B;AAC9DP,IAAAA,IAAI,EAAEA,IADwD;AAE9DK,IAAAA,YAAY,EAAEA,YAFgD;AAG9DC,IAAAA,YAAY,EAAEA,YAHgD;AAI9DJ,IAAAA,KAAK,EAAEA,KAJuD;AAK9DpB,IAAAA,OAAO,EAAEA,OALqD;AAM9DsB,IAAAA,eAAe,EAAEM,qBAN6C;AAO9DkC,IAAAA,YAAY,EAAEA,YAPgD;AAQ9DzC,IAAAA,gBAAgB,EAAEuC;AAR4C,GAA9B,CAA3B,EASH,CAACG,OAAD,EAAUhB,IAAV,EAAgB5D,OAAhB,KAA4B;AAC9B,QAAI6E,SAAS,GAAG,IAAhB;AACA,UAAMhB,UAAU,GAAGnE,QAAQ,KAAKS,SAAb,GAAyBT,QAAzB,GAAoCuC,KAAK,IAAIA,KAAK,CAAC6C,IAAN,CAAWC,IAAI,IAAI,CAAC,EAAEA,IAAI,IAAI,OAAOA,IAAP,KAAgB,QAAxB,IAAoCA,IAAI,CAACrF,QAA3C,CAApB,CAAhE;AACA,UAAMsF,QAAQ,GAAG3G,OAAO,CAAC0D,IAAD,CAAP,CAAcqC,MAAd,IAAwBR,IAAxB,GAA+BA,IAAI,CAAC7B,IAApC,GAA2C,EAA5D;AACA,UAAM4B,OAAO,GAAG,CAACqB,QAAQ,CAACZ,MAAT,GAAkB,CAAlB,IAAuB7B,QAAvB,GAAkC,CAACA,QAAD,EAAW,GAAGyC,QAAd,CAAlC,GAA4DA,QAA7D,EAAuEzB,IAAvE,CAA4E,GAA5E,CAAhB;;AAEA,QAAInB,YAAY,IAAIC,YAApB,EAAkC;AAChCnE,MAAAA,UAAU,CAAC,WAAD,EAAc,+DAAd,CAAV;AACD;;AAED,QAAIsG,aAAJ,EAAmB;AACjB,UAAI,CAACpC,YAAY,IAAIC,YAAjB,KAAkC,CAACN,IAAvC,EAA6C;AAC3C8C,QAAAA,SAAS,GAAG/F,QAAQ,CAACkB,OAAD,CAApB;AACD,OAFD,MAEO;AACL,YAAI,EAAEoC,YAAY,IAAIC,YAAlB,CAAJ,EAAqC;AACnCnE,UAAAA,UAAU,CAAC,WAAD,EAAc,6EAAd,CAAV;AACD;;AAED,YAAI6D,IAAJ,EAAU;AACR7D,UAAAA,UAAU,CAAC,WAAD,EAAc,2EAAd,CAAV;AACD;AACF,OAXgB,CAWf;;AAEH,KAbD,MAaO,IAAImE,YAAY,IAAI,CAACN,IAArB,EAA2B;AAChC7D,MAAAA,UAAU,CAAC,WAAD,EAAc,iEAAd,CAAV;AACD,KAFM,MAEA,IAAIP,KAAK,CAACsH,cAAN,CAAqBnG,QAArB,CAAJ,EAAoC;AACzC,UAAIA,QAAQ,CAACM,KAAT,CAAe8F,YAAnB,EAAiC;AAC/BhH,QAAAA,UAAU,CAAC,WAAD,EAAc,mGAAd,CAAV;AACD;;AAED,YAAMiH,UAAU,GAAG/B,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBvE,QAAQ,CAACM,KAA3B,CAAd,EAAiDwF,OAAjD,CAAnB;;AAEA,UAAI,CAACO,UAAU,CAACC,EAAhB,EAAoB;AAClBD,QAAAA,UAAU,CAACC,EAAX,GAAgBzB,OAAhB;AACD,OATwC,CASvC;;;AAGF,YAAM0B,QAAQ,GAAG,IAAIC,GAAJ,CAAQ,CAAC,GAAGjH,OAAO,CAACwC,OAAD,CAAX,EAAsB,GAAGxC,OAAO,CAACoE,qBAAD,CAAhC,CAAR,CAAjB;AACA4C,MAAAA,QAAQ,CAACE,OAAT,CAAiBC,SAAS,IAAI;AAC5BL,QAAAA,UAAU,CAACK,SAAD,CAAV,GAAwB,YAAa;AACnC,cAAI1B,EAAJ,EAAQC,EAAR,EAAY0B,EAAZ;;AADmC,4CAATC,IAAS;AAATA,YAAAA,IAAS;AAAA;;AAGnC,WAAC5B,EAAE,GAAGc,OAAO,CAACY,SAAD,CAAb,MAA8B,IAA9B,IAAsC1B,EAAE,KAAK,KAAK,CAAlD,GAAsD,KAAK,CAA3D,GAA+DA,EAAE,CAAC6B,IAAH,CAAQf,OAAR,EAAiB,GAAGc,IAApB,CAA/D;AACA,WAACD,EAAE,GAAG,CAAC1B,EAAE,GAAGjF,QAAQ,CAACM,KAAf,EAAsBoG,SAAtB,CAAN,MAA4C,IAA5C,IAAoDC,EAAE,KAAK,KAAK,CAAhE,GAAoE,KAAK,CAAzE,GAA6EA,EAAE,CAACE,IAAH,CAAQ5B,EAAR,EAAY,GAAG2B,IAAf,CAA7E;AACD,SALD;AAMD,OAPD;AAQAb,MAAAA,SAAS,GAAGlH,KAAK,CAAC4C,aAAN,CAAoB3B,SAApB,EAA+B;AACzCK,QAAAA,KAAK,EAAE2F,OAAO,CAACxF,KAAK,CAACwG,aAAN,IAAuB,OAAxB,CAD2B;AAEzC1G,QAAAA,MAAM,EAAEwD,SAAS,CAACE;AAFuB,OAA/B,EAGTjF,KAAK,CAACkI,YAAN,CAAmB/G,QAAnB,EAA6BqG,UAA7B,CAHS,CAAZ;AAID,KAzBM,MAyBA;AACL,UAAIpD,IAAJ,EAAU;AACR7D,QAAAA,UAAU,CAAC,WAAD,EAAc,6HAAd,CAAV;AACD;;AAED2G,MAAAA,SAAS,GAAG/F,QAAZ;AACD;;AAED,WAAO2E,YAAY,CAACoB,SAAD,EAAYlB,OAAZ,EAAqBC,IAArB,EAA2BC,UAA3B,CAAnB;AACD,GApEM,CAAP;AAqED,CA9MM","sourcesContent":["import { __rest } from \"tslib\";\nimport React, { useContext, useCallback, useState } from 'react';\nimport classNames from 'classnames';\nimport { Field } from 'rc-field-form';\nimport FieldContext from 'rc-field-form/lib/FieldContext';\nimport { devWarning } from '../../utils/dev-log';\nimport { FormContext, NoStyleItemContext } from './context';\nimport { toArray } from './utils';\nimport List from '../list';\nimport Popover from '../popover';\nimport { QuestionCircleOutline } from 'antd-mobile-icons';\nimport { useConfig } from '../config-provider';\nconst NAME_SPLIT = '__SPLIT__';\nconst classPrefix = `adm-form-item`;\nconst MemoInput = React.memo(({\n  children\n}) => children, (prev, next) => prev.value === next.value && prev.update === next.update);\n\nconst FormItemLayout = props => {\n  const {\n    className,\n    style,\n    extra,\n    label,\n    help,\n    required,\n    disabled,\n    children,\n    htmlFor,\n    hidden,\n    arrow,\n    childElementPosition = 'normal'\n  } = props;\n  const context = useContext(FormContext);\n  const {\n    locale\n  } = useConfig();\n  const hasFeedback = props.hasFeedback !== undefined ? props.hasFeedback : context.hasFeedback;\n  const layout = props.layout || context.layout;\n\n  const requiredMark = (() => {\n    const {\n      requiredMarkStyle\n    } = context;\n\n    switch (requiredMarkStyle) {\n      case 'asterisk':\n        return required && React.createElement(\"span\", {\n          className: `${classPrefix}-required-asterisk`\n        }, \"*\");\n\n      case 'text-required':\n        return required && React.createElement(\"span\", {\n          className: `${classPrefix}-required-text`\n        }, \"(\", locale.Form.required, \")\");\n\n      case 'text-optional':\n        return !required && React.createElement(\"span\", {\n          className: `${classPrefix}-required-text`\n        }, \"(\", locale.Form.optional, \")\");\n\n      default:\n        return null;\n    }\n  })();\n\n  const labelElement = label ? React.createElement(\"label\", {\n    className: `${classPrefix}-label`,\n    htmlFor: htmlFor\n  }, label, requiredMark, help && React.createElement(Popover, {\n    content: help,\n    mode: 'dark',\n    trigger: 'click'\n  }, React.createElement(\"span\", {\n    className: `${classPrefix}-label-help`,\n    onClick: e => {\n      e.preventDefault();\n    }\n  }, React.createElement(QuestionCircleOutline, null)))) : null;\n  const description = React.createElement(React.Fragment, null, props.description, hasFeedback && React.createElement(React.Fragment, null, props.errors.map((error, index) => React.createElement(\"div\", {\n    key: `error-${index}`,\n    className: `${classPrefix}-feedback-error`\n  }, error)), props.warnings.map((warning, index) => React.createElement(\"div\", {\n    key: `warning-${index}`,\n    className: `${classPrefix}-feedback-warning`\n  }, warning))));\n  return React.createElement(List.Item, {\n    style: style,\n    title: layout === 'vertical' && labelElement,\n    prefix: layout === 'horizontal' && labelElement,\n    extra: extra,\n    description: description,\n    className: classNames(classPrefix, className, `${classPrefix}-${layout}`, {\n      [`${classPrefix}-hidden`]: hidden\n    }),\n    disabled: disabled,\n    onClick: props.onClick,\n    clickable: props.clickable,\n    arrow: arrow\n  }, React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-child`, `${classPrefix}-child-position-${childElementPosition}`)\n  }, React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-child-inner`)\n  }, children)));\n};\n\nexport const FormItem = props => {\n  const {\n    // 样式相关\n    className,\n    style,\n    // FormItem 相关\n    label,\n    help,\n    extra,\n    hasFeedback,\n    name,\n    required,\n    noStyle,\n    hidden,\n    layout,\n    childElementPosition,\n    description,\n    // Field 相关\n    disabled,\n    rules,\n    children,\n    messageVariables,\n    trigger = 'onChange',\n    validateTrigger = trigger,\n    onClick,\n    shouldUpdate,\n    dependencies,\n    clickable,\n    arrow\n  } = props,\n        fieldProps = __rest(props, [\"className\", \"style\", \"label\", \"help\", \"extra\", \"hasFeedback\", \"name\", \"required\", \"noStyle\", \"hidden\", \"layout\", \"childElementPosition\", \"description\", \"disabled\", \"rules\", \"children\", \"messageVariables\", \"trigger\", \"validateTrigger\", \"onClick\", \"shouldUpdate\", \"dependencies\", \"clickable\", \"arrow\"]);\n\n  const {\n    name: formName\n  } = useContext(FormContext);\n  const {\n    validateTrigger: contextValidateTrigger\n  } = useContext(FieldContext);\n  const mergedValidateTrigger = validateTrigger !== undefined ? validateTrigger : contextValidateTrigger;\n  const updateRef = React.useRef(0);\n  updateRef.current += 1;\n  const [subMetas, setSubMetas] = useState({});\n  const onSubMetaChange = useCallback((subMeta, namePath) => {\n    setSubMetas(prevSubMetas => {\n      const nextSubMetas = Object.assign({}, prevSubMetas);\n      const nameKey = namePath.join(NAME_SPLIT);\n\n      if (subMeta.destroy) {\n        delete nextSubMetas[nameKey];\n      } else {\n        nextSubMetas[nameKey] = subMeta;\n      }\n\n      return nextSubMetas;\n    });\n  }, [setSubMetas]);\n\n  function renderLayout(baseChildren, fieldId, meta, isRequired) {\n    var _a, _b;\n\n    if (noStyle && !hidden) {\n      return baseChildren;\n    }\n\n    const curErrors = (_a = meta === null || meta === void 0 ? void 0 : meta.errors) !== null && _a !== void 0 ? _a : [];\n    const errors = Object.keys(subMetas).reduce((subErrors, key) => {\n      var _a, _b;\n\n      const errors = (_b = (_a = subMetas[key]) === null || _a === void 0 ? void 0 : _a.errors) !== null && _b !== void 0 ? _b : [];\n\n      if (errors.length) {\n        subErrors = [...subErrors, ...errors];\n      }\n\n      return subErrors;\n    }, curErrors);\n    const curWarnings = (_b = meta === null || meta === void 0 ? void 0 : meta.warnings) !== null && _b !== void 0 ? _b : [];\n    const warnings = Object.keys(subMetas).reduce((subWarnings, key) => {\n      var _a, _b;\n\n      const warnings = (_b = (_a = subMetas[key]) === null || _a === void 0 ? void 0 : _a.warnings) !== null && _b !== void 0 ? _b : [];\n\n      if (warnings.length) {\n        subWarnings = [...subWarnings, ...warnings];\n      }\n\n      return subWarnings;\n    }, curWarnings);\n    return React.createElement(FormItemLayout, {\n      className: className,\n      style: style,\n      label: label,\n      extra: extra,\n      help: help,\n      description: description,\n      required: isRequired,\n      disabled: disabled,\n      hasFeedback: hasFeedback,\n      htmlFor: fieldId,\n      errors: errors,\n      warnings: warnings,\n      onClick: onClick,\n      hidden: hidden,\n      layout: layout,\n      childElementPosition: childElementPosition,\n      clickable: clickable,\n      arrow: arrow\n    }, React.createElement(NoStyleItemContext.Provider, {\n      value: onSubMetaChange\n    }, baseChildren));\n  }\n\n  const isRenderProps = typeof children === 'function';\n\n  if (!name && !isRenderProps && !props.dependencies) {\n    return renderLayout(children);\n  }\n\n  let Variables = {};\n\n  if (typeof label === 'string') {\n    Variables.label = label;\n  }\n\n  if (messageVariables) {\n    Variables = Object.assign(Object.assign({}, Variables), messageVariables);\n  }\n\n  const notifyParentMetaChange = useContext(NoStyleItemContext);\n\n  const onMetaChange = meta => {\n    if (noStyle && notifyParentMetaChange) {\n      const namePath = meta.name;\n      notifyParentMetaChange(meta, namePath);\n    }\n  };\n\n  return React.createElement(Field, Object.assign({}, fieldProps, {\n    name: name,\n    shouldUpdate: shouldUpdate,\n    dependencies: dependencies,\n    rules: rules,\n    trigger: trigger,\n    validateTrigger: mergedValidateTrigger,\n    onMetaChange: onMetaChange,\n    messageVariables: Variables\n  }), (control, meta, context) => {\n    let childNode = null;\n    const isRequired = required !== undefined ? required : rules && rules.some(rule => !!(rule && typeof rule === 'object' && rule.required));\n    const nameList = toArray(name).length && meta ? meta.name : [];\n    const fieldId = (nameList.length > 0 && formName ? [formName, ...nameList] : nameList).join('_');\n\n    if (shouldUpdate && dependencies) {\n      devWarning('Form.Item', \"`shouldUpdate` and `dependencies` shouldn't be used together.\");\n    }\n\n    if (isRenderProps) {\n      if ((shouldUpdate || dependencies) && !name) {\n        childNode = children(context);\n      } else {\n        if (!(shouldUpdate || dependencies)) {\n          devWarning('Form.Item', '`children` of render props only work with `shouldUpdate` or `dependencies`.');\n        }\n\n        if (name) {\n          devWarning('Form.Item', \"Do not use `name` with `children` of render props since it's not a field.\");\n        }\n      } // not render props\n\n    } else if (dependencies && !name) {\n      devWarning('Form.Item', 'Must set `name` or use render props when `dependencies` is set.');\n    } else if (React.isValidElement(children)) {\n      if (children.props.defaultValue) {\n        devWarning('Form.Item', '`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.');\n      }\n\n      const childProps = Object.assign(Object.assign({}, children.props), control);\n\n      if (!childProps.id) {\n        childProps.id = fieldId;\n      } // We should keep user origin event handler\n\n\n      const triggers = new Set([...toArray(trigger), ...toArray(mergedValidateTrigger)]);\n      triggers.forEach(eventName => {\n        childProps[eventName] = (...args) => {\n          var _a, _b, _c;\n\n          (_a = control[eventName]) === null || _a === void 0 ? void 0 : _a.call(control, ...args);\n          (_c = (_b = children.props)[eventName]) === null || _c === void 0 ? void 0 : _c.call(_b, ...args);\n        };\n      });\n      childNode = React.createElement(MemoInput, {\n        value: control[props.valuePropName || 'value'],\n        update: updateRef.current\n      }, React.cloneElement(children, childProps));\n    } else {\n      if (name) {\n        devWarning('Form.Item', '`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead.');\n      }\n\n      childNode = children;\n    }\n\n    return renderLayout(childNode, fieldId, meta, isRequired);\n  });\n};"]},"metadata":{},"sourceType":"module"}