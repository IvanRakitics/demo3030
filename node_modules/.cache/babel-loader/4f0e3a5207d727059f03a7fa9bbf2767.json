{"ast":null,"code":"import classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { convertPx } from '../../utils/convert-px';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CheckMark } from './check-mark';\nconst classPrefix = `adm-selector`;\nconst defaultProps = {\n  multiple: false,\n  defaultValue: [],\n  showCheckMark: true\n};\nexport const Selector = p => {\n  const props = mergeProps(defaultProps, p);\n  const [value, setValue] = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue,\n    onChange: val => {\n      var _a;\n\n      const extend = {\n        get items() {\n          return props.options.filter(option => val.includes(option.value));\n        }\n\n      };\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n    }\n  });\n  const items = props.options.map(option => {\n    const active = (value || []).includes(option.value);\n    const disabled = option.disabled || props.disabled;\n    const itemCls = classNames(`${classPrefix}-item`, {\n      [`${classPrefix}-item-active`]: active && !props.multiple,\n      [`${classPrefix}-item-multiple-active`]: active && props.multiple,\n      [`${classPrefix}-item-disabled`]: disabled\n    });\n    return React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: () => {\n        if (disabled) {\n          return;\n        }\n\n        if (props.multiple) {\n          const val = active ? value.filter(v => v !== option.value) : [...value, option.value];\n          setValue(val);\n        } else {\n          const val = active ? [] : [option.value];\n          setValue(val);\n        }\n      }\n    }, option.label, option.description && React.createElement(\"div\", {\n      className: `${classPrefix}-item-description`\n    }, option.description), active && props.showCheckMark && React.createElement(\"div\", {\n      className: `${classPrefix}-check-mark-wrapper`\n    }, React.createElement(CheckMark, null)));\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && React.createElement(Grid, {\n    columns: props.columns,\n    gap: convertPx(8)\n  }, items)));\n};","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/selector/selector.js"],"names":["classNames","React","withNativeProps","mergeProps","Space","Grid","convertPx","usePropsValue","CheckMark","classPrefix","defaultProps","multiple","defaultValue","showCheckMark","Selector","p","props","value","setValue","onChange","val","_a","extend","items","options","filter","option","includes","call","map","active","disabled","itemCls","createElement","key","className","onClick","v","label","description","columns","wrap","gap"],"mappings":"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","sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { convertPx } from '../../utils/convert-px';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CheckMark } from './check-mark';\nconst classPrefix = `adm-selector`;\nconst defaultProps = {\n  multiple: false,\n  defaultValue: [],\n  showCheckMark: true\n};\nexport const Selector = p => {\n  const props = mergeProps(defaultProps, p);\n  const [value, setValue] = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue,\n    onChange: val => {\n      var _a;\n\n      const extend = {\n        get items() {\n          return props.options.filter(option => val.includes(option.value));\n        }\n\n      };\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n    }\n  });\n  const items = props.options.map(option => {\n    const active = (value || []).includes(option.value);\n    const disabled = option.disabled || props.disabled;\n    const itemCls = classNames(`${classPrefix}-item`, {\n      [`${classPrefix}-item-active`]: active && !props.multiple,\n      [`${classPrefix}-item-multiple-active`]: active && props.multiple,\n      [`${classPrefix}-item-disabled`]: disabled\n    });\n    return React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: () => {\n        if (disabled) {\n          return;\n        }\n\n        if (props.multiple) {\n          const val = active ? value.filter(v => v !== option.value) : [...value, option.value];\n          setValue(val);\n        } else {\n          const val = active ? [] : [option.value];\n          setValue(val);\n        }\n      }\n    }, option.label, option.description && React.createElement(\"div\", {\n      className: `${classPrefix}-item-description`\n    }, option.description), active && props.showCheckMark && React.createElement(\"div\", {\n      className: `${classPrefix}-check-mark-wrapper`\n    }, React.createElement(CheckMark, null)));\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && React.createElement(Grid, {\n    columns: props.columns,\n    gap: convertPx(8)\n  }, items)));\n};"]},"metadata":{},"sourceType":"module"}