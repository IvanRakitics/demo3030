{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport React, { useState } from 'react';\nimport classNames from 'classnames';\nimport Button from '../button';\nimport { withNativeProps } from '../../utils/native-props';\nexport const DialogActionButton = props => {\n  const {\n    action\n  } = props;\n  const [loading, setLoading] = useState(false);\n\n  function handleClick() {\n    return __awaiter(this, void 0, void 0, function* () {\n      setLoading(true);\n\n      try {\n        const promise = props.onAction();\n        yield promise;\n        setLoading(false);\n      } catch (e) {\n        setLoading(false);\n        throw e;\n      }\n    });\n  }\n\n  return withNativeProps(props.action, React.createElement(Button, {\n    key: action.key,\n    onClick: handleClick,\n    className: classNames('adm-dialog-button', {\n      'adm-dialog-button-bold': action.bold\n    }),\n    fill: 'none',\n    shape: 'rectangular',\n    block: true,\n    color: action.danger ? 'danger' : 'primary',\n    loading: loading,\n    disabled: action.disabled\n  }, action.text));\n};","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/dialog/dialog-action-button.js"],"names":["__awaiter","React","useState","classNames","Button","withNativeProps","DialogActionButton","props","action","loading","setLoading","handleClick","promise","onAction","e","createElement","key","onClick","className","bold","fill","shape","block","color","danger","disabled","text"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,OAAO,MAAMC,kBAAkB,GAAGC,KAAK,IAAI;AACzC,QAAM;AACJC,IAAAA;AADI,MAEFD,KAFJ;AAGA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;;AAEA,WAASS,WAAT,GAAuB;AACrB,WAAOX,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;AAClDU,MAAAA,UAAU,CAAC,IAAD,CAAV;;AAEA,UAAI;AACF,cAAME,OAAO,GAAGL,KAAK,CAACM,QAAN,EAAhB;AACA,cAAMD,OAAN;AACAF,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OAJD,CAIE,OAAOI,CAAP,EAAU;AACVJ,QAAAA,UAAU,CAAC,KAAD,CAAV;AACA,cAAMI,CAAN;AACD;AACF,KAXe,CAAhB;AAYD;;AAED,SAAOT,eAAe,CAACE,KAAK,CAACC,MAAP,EAAeP,KAAK,CAACc,aAAN,CAAoBX,MAApB,EAA4B;AAC/DY,IAAAA,GAAG,EAAER,MAAM,CAACQ,GADmD;AAE/DC,IAAAA,OAAO,EAAEN,WAFsD;AAG/DO,IAAAA,SAAS,EAAEf,UAAU,CAAC,mBAAD,EAAsB;AACzC,gCAA0BK,MAAM,CAACW;AADQ,KAAtB,CAH0C;AAM/DC,IAAAA,IAAI,EAAE,MANyD;AAO/DC,IAAAA,KAAK,EAAE,aAPwD;AAQ/DC,IAAAA,KAAK,EAAE,IARwD;AAS/DC,IAAAA,KAAK,EAAEf,MAAM,CAACgB,MAAP,GAAgB,QAAhB,GAA2B,SAT6B;AAU/Df,IAAAA,OAAO,EAAEA,OAVsD;AAW/DgB,IAAAA,QAAQ,EAAEjB,MAAM,CAACiB;AAX8C,GAA5B,EAYlCjB,MAAM,CAACkB,IAZ2B,CAAf,CAAtB;AAaD,CAlCM","sourcesContent":["import { __awaiter } from \"tslib\";\nimport React, { useState } from 'react';\nimport classNames from 'classnames';\nimport Button from '../button';\nimport { withNativeProps } from '../../utils/native-props';\nexport const DialogActionButton = props => {\n  const {\n    action\n  } = props;\n  const [loading, setLoading] = useState(false);\n\n  function handleClick() {\n    return __awaiter(this, void 0, void 0, function* () {\n      setLoading(true);\n\n      try {\n        const promise = props.onAction();\n        yield promise;\n        setLoading(false);\n      } catch (e) {\n        setLoading(false);\n        throw e;\n      }\n    });\n  }\n\n  return withNativeProps(props.action, React.createElement(Button, {\n    key: action.key,\n    onClick: handleClick,\n    className: classNames('adm-dialog-button', {\n      'adm-dialog-button-bold': action.bold\n    }),\n    fill: 'none',\n    shape: 'rectangular',\n    block: true,\n    color: action.danger ? 'danger' : 'primary',\n    loading: loading,\n    disabled: action.disabled\n  }, action.text));\n};"]},"metadata":{},"sourceType":"module"}