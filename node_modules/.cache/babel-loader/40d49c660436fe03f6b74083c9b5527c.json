{"ast":null,"code":"import React, { useContext } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport classNames from 'classnames';\nimport { RadioGroupContext } from './group-context';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { CheckIcon } from '../checkbox/check-icon';\nimport { devWarning } from '../../utils/dev-log';\nimport { isDev } from '../../utils/is-dev';\nimport { NativeInput } from '../checkbox/native-input';\nconst classPrefix = `adm-radio`;\nconst defaultProps = {\n  defaultChecked: false\n};\nexport const Radio = p => {\n  const props = mergeProps(defaultProps, p);\n  const groupContext = useContext(RadioGroupContext);\n  let [checked, setChecked] = usePropsValue({\n    value: props.checked,\n    defaultValue: props.defaultChecked,\n    onChange: props.onChange\n  });\n  let disabled = props.disabled;\n  const {\n    value\n  } = props;\n\n  if (groupContext && value !== undefined) {\n    if (isDev) {\n      if (p.checked !== undefined) {\n        devWarning('Radio', 'When used within `Radio.Group`, the `checked` prop of `Radio` will not work.');\n      }\n\n      if (p.defaultChecked !== undefined) {\n        devWarning('Radio', 'When used within `Radio.Group`, the `defaultChecked` prop of `Radio` will not work.');\n      }\n    }\n\n    checked = groupContext.value.includes(value);\n\n    setChecked = checked => {\n      var _a;\n\n      if (checked) {\n        groupContext.check(value);\n      } else {\n        groupContext.uncheck(value);\n      }\n\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, checked);\n    };\n\n    disabled = disabled || groupContext.disabled;\n  }\n\n  const renderIcon = () => {\n    if (props.icon) {\n      return React.createElement(\"div\", {\n        className: `${classPrefix}-custom-icon`\n      }, props.icon(checked));\n    }\n\n    return React.createElement(\"div\", {\n      className: `${classPrefix}-icon`\n    }, checked && React.createElement(CheckIcon, null));\n  };\n\n  return withNativeProps(props, React.createElement(\"label\", {\n    className: classNames(classPrefix, {\n      [`${classPrefix}-checked`]: checked,\n      [`${classPrefix}-disabled`]: disabled,\n      [`${classPrefix}-block`]: props.block\n    })\n  }, React.createElement(NativeInput, {\n    type: 'radio',\n    checked: checked,\n    onChange: setChecked,\n    disabled: disabled,\n    id: props.id\n  }), renderIcon(), props.children && React.createElement(\"div\", {\n    className: `${classPrefix}-content`\n  }, props.children)));\n};","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/radio/radio.js"],"names":["React","useContext","withNativeProps","classNames","RadioGroupContext","usePropsValue","mergeProps","CheckIcon","devWarning","isDev","NativeInput","classPrefix","defaultProps","defaultChecked","Radio","p","props","groupContext","checked","setChecked","value","defaultValue","onChange","disabled","undefined","includes","_a","check","uncheck","call","renderIcon","icon","createElement","className","block","type","id","children"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport classNames from 'classnames';\nimport { RadioGroupContext } from './group-context';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { CheckIcon } from '../checkbox/check-icon';\nimport { devWarning } from '../../utils/dev-log';\nimport { isDev } from '../../utils/is-dev';\nimport { NativeInput } from '../checkbox/native-input';\nconst classPrefix = `adm-radio`;\nconst defaultProps = {\n  defaultChecked: false\n};\nexport const Radio = p => {\n  const props = mergeProps(defaultProps, p);\n  const groupContext = useContext(RadioGroupContext);\n  let [checked, setChecked] = usePropsValue({\n    value: props.checked,\n    defaultValue: props.defaultChecked,\n    onChange: props.onChange\n  });\n  let disabled = props.disabled;\n  const {\n    value\n  } = props;\n\n  if (groupContext && value !== undefined) {\n    if (isDev) {\n      if (p.checked !== undefined) {\n        devWarning('Radio', 'When used within `Radio.Group`, the `checked` prop of `Radio` will not work.');\n      }\n\n      if (p.defaultChecked !== undefined) {\n        devWarning('Radio', 'When used within `Radio.Group`, the `defaultChecked` prop of `Radio` will not work.');\n      }\n    }\n\n    checked = groupContext.value.includes(value);\n\n    setChecked = checked => {\n      var _a;\n\n      if (checked) {\n        groupContext.check(value);\n      } else {\n        groupContext.uncheck(value);\n      }\n\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, checked);\n    };\n\n    disabled = disabled || groupContext.disabled;\n  }\n\n  const renderIcon = () => {\n    if (props.icon) {\n      return React.createElement(\"div\", {\n        className: `${classPrefix}-custom-icon`\n      }, props.icon(checked));\n    }\n\n    return React.createElement(\"div\", {\n      className: `${classPrefix}-icon`\n    }, checked && React.createElement(CheckIcon, null));\n  };\n\n  return withNativeProps(props, React.createElement(\"label\", {\n    className: classNames(classPrefix, {\n      [`${classPrefix}-checked`]: checked,\n      [`${classPrefix}-disabled`]: disabled,\n      [`${classPrefix}-block`]: props.block\n    })\n  }, React.createElement(NativeInput, {\n    type: 'radio',\n    checked: checked,\n    onChange: setChecked,\n    disabled: disabled,\n    id: props.id\n  }), renderIcon(), props.children && React.createElement(\"div\", {\n    className: `${classPrefix}-content`\n  }, props.children)));\n};"]},"metadata":{},"sourceType":"module"}