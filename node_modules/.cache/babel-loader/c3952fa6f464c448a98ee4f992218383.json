{"ast":null,"code":"import React from 'react';\nimport classNames from 'classnames';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Badge from '../badge';\nimport SafeArea from '../safe-area';\nimport { usePropsValue } from '../../utils/use-props-value';\nexport const TabBarItem = () => {\n  return null;\n};\nconst classPrefix = `adm-tab-bar`;\nconst defaultProps = {\n  safeArea: false\n};\nexport const TabBar = p => {\n  var _a;\n\n  const props = mergeProps(defaultProps, p);\n  let firstActiveKey = null;\n  const items = [];\n  React.Children.forEach(props.children, (child, index) => {\n    if (!React.isValidElement(child)) return;\n    const key = child.key;\n    if (typeof key !== 'string') return;\n\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n\n    items.push(child);\n  });\n  const [activeKey, setActiveKey] = usePropsValue({\n    value: props.activeKey,\n    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n    onChange: v => {\n      var _a;\n\n      if (v === null) return;\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n    }\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-wrap`\n  }, items.map(item => {\n    const active = item.key === activeKey;\n\n    function renderContent() {\n      const iconElement = item.props.icon && React.createElement(\"div\", {\n        className: `${classPrefix}-item-icon`\n      }, typeof item.props.icon === 'function' ? item.props.icon(active) : item.props.icon);\n      const titleElement = item.props.title && React.createElement(\"div\", {\n        className: `${classPrefix}-item-title`\n      }, typeof item.props.title === 'function' ? item.props.title(active) : item.props.title);\n\n      if (iconElement) {\n        return React.createElement(React.Fragment, null, React.createElement(Badge, {\n          content: item.props.badge,\n          className: `${classPrefix}-icon-badge`\n        }, iconElement), titleElement);\n      } else if (titleElement) {\n        return React.createElement(Badge, {\n          content: item.props.badge,\n          className: `${classPrefix}-title-badge`\n        }, titleElement);\n      }\n\n      return null;\n    }\n\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: () => {\n        const {\n          key\n        } = item;\n        if (key === undefined || key === null) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(`${classPrefix}-item`, {\n        [`${classPrefix}-item-active`]: active\n      })\n    }, renderContent()));\n  })), props.safeArea && React.createElement(SafeArea, {\n    position: 'bottom'\n  })));\n};","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/tab-bar/tab-bar.js"],"names":["React","classNames","withNativeProps","mergeProps","Badge","SafeArea","usePropsValue","TabBarItem","classPrefix","defaultProps","safeArea","TabBar","p","_a","props","firstActiveKey","items","Children","forEach","children","child","index","isValidElement","key","push","activeKey","setActiveKey","value","defaultValue","defaultActiveKey","onChange","v","call","createElement","className","map","item","active","renderContent","iconElement","icon","titleElement","title","Fragment","content","badge","onClick","undefined","toString","position"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,SAAO,IAAP;AACD,CAFM;AAGP,MAAMC,WAAW,GAAI,aAArB;AACA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE;AADS,CAArB;AAGA,OAAO,MAAMC,MAAM,GAAGC,CAAC,IAAI;AACzB,MAAIC,EAAJ;;AAEA,QAAMC,KAAK,GAAGX,UAAU,CAACM,YAAD,EAAeG,CAAf,CAAxB;AACA,MAAIG,cAAc,GAAG,IAArB;AACA,QAAMC,KAAK,GAAG,EAAd;AACAhB,EAAAA,KAAK,CAACiB,QAAN,CAAeC,OAAf,CAAuBJ,KAAK,CAACK,QAA7B,EAAuC,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACvD,QAAI,CAACrB,KAAK,CAACsB,cAAN,CAAqBF,KAArB,CAAL,EAAkC;AAClC,UAAMG,GAAG,GAAGH,KAAK,CAACG,GAAlB;AACA,QAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;;AAE7B,QAAIF,KAAK,KAAK,CAAd,EAAiB;AACfN,MAAAA,cAAc,GAAGQ,GAAjB;AACD;;AAEDP,IAAAA,KAAK,CAACQ,IAAN,CAAWJ,KAAX;AACD,GAVD;AAWA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BpB,aAAa,CAAC;AAC9CqB,IAAAA,KAAK,EAAEb,KAAK,CAACW,SADiC;AAE9CG,IAAAA,YAAY,EAAE,CAACf,EAAE,GAAGC,KAAK,CAACe,gBAAZ,MAAkC,IAAlC,IAA0ChB,EAAE,KAAK,KAAK,CAAtD,GAA0DA,EAA1D,GAA+DE,cAF/B;AAG9Ce,IAAAA,QAAQ,EAAEC,CAAC,IAAI;AACb,UAAIlB,EAAJ;;AAEA,UAAIkB,CAAC,KAAK,IAAV,EAAgB;AAChB,OAAClB,EAAE,GAAGC,KAAK,CAACgB,QAAZ,MAA0B,IAA1B,IAAkCjB,EAAE,KAAK,KAAK,CAA9C,GAAkD,KAAK,CAAvD,GAA2DA,EAAE,CAACmB,IAAH,CAAQlB,KAAR,EAAeiB,CAAf,CAA3D;AACD;AAR6C,GAAD,CAA/C;AAUA,SAAO7B,eAAe,CAACY,KAAD,EAAQd,KAAK,CAACiC,aAAN,CAAoB,KAApB,EAA2B;AACvDC,IAAAA,SAAS,EAAE1B;AAD4C,GAA3B,EAE3BR,KAAK,CAACiC,aAAN,CAAoB,KAApB,EAA2B;AAC5BC,IAAAA,SAAS,EAAG,GAAE1B,WAAY;AADE,GAA3B,EAEAQ,KAAK,CAACmB,GAAN,CAAUC,IAAI,IAAI;AACnB,UAAMC,MAAM,GAAGD,IAAI,CAACb,GAAL,KAAaE,SAA5B;;AAEA,aAASa,aAAT,GAAyB;AACvB,YAAMC,WAAW,GAAGH,IAAI,CAACtB,KAAL,CAAW0B,IAAX,IAAmBxC,KAAK,CAACiC,aAAN,CAAoB,KAApB,EAA2B;AAChEC,QAAAA,SAAS,EAAG,GAAE1B,WAAY;AADsC,OAA3B,EAEpC,OAAO4B,IAAI,CAACtB,KAAL,CAAW0B,IAAlB,KAA2B,UAA3B,GAAwCJ,IAAI,CAACtB,KAAL,CAAW0B,IAAX,CAAgBH,MAAhB,CAAxC,GAAkED,IAAI,CAACtB,KAAL,CAAW0B,IAFzC,CAAvC;AAGA,YAAMC,YAAY,GAAGL,IAAI,CAACtB,KAAL,CAAW4B,KAAX,IAAoB1C,KAAK,CAACiC,aAAN,CAAoB,KAApB,EAA2B;AAClEC,QAAAA,SAAS,EAAG,GAAE1B,WAAY;AADwC,OAA3B,EAEtC,OAAO4B,IAAI,CAACtB,KAAL,CAAW4B,KAAlB,KAA4B,UAA5B,GAAyCN,IAAI,CAACtB,KAAL,CAAW4B,KAAX,CAAiBL,MAAjB,CAAzC,GAAoED,IAAI,CAACtB,KAAL,CAAW4B,KAFzC,CAAzC;;AAIA,UAAIH,WAAJ,EAAiB;AACf,eAAOvC,KAAK,CAACiC,aAAN,CAAoBjC,KAAK,CAAC2C,QAA1B,EAAoC,IAApC,EAA0C3C,KAAK,CAACiC,aAAN,CAAoB7B,KAApB,EAA2B;AAC1EwC,UAAAA,OAAO,EAAER,IAAI,CAACtB,KAAL,CAAW+B,KADsD;AAE1EX,UAAAA,SAAS,EAAG,GAAE1B,WAAY;AAFgD,SAA3B,EAG9C+B,WAH8C,CAA1C,EAGUE,YAHV,CAAP;AAID,OALD,MAKO,IAAIA,YAAJ,EAAkB;AACvB,eAAOzC,KAAK,CAACiC,aAAN,CAAoB7B,KAApB,EAA2B;AAChCwC,UAAAA,OAAO,EAAER,IAAI,CAACtB,KAAL,CAAW+B,KADY;AAEhCX,UAAAA,SAAS,EAAG,GAAE1B,WAAY;AAFM,SAA3B,EAGJiC,YAHI,CAAP;AAID;;AAED,aAAO,IAAP;AACD;;AAED,WAAOvC,eAAe,CAACkC,IAAI,CAACtB,KAAN,EAAad,KAAK,CAACiC,aAAN,CAAoB,KAApB,EAA2B;AAC5DV,MAAAA,GAAG,EAAEa,IAAI,CAACb,GADkD;AAE5DuB,MAAAA,OAAO,EAAE,MAAM;AACb,cAAM;AACJvB,UAAAA;AADI,YAEFa,IAFJ;AAGA,YAAIb,GAAG,KAAKwB,SAAR,IAAqBxB,GAAG,KAAK,IAAjC,EAAuC;AACvCG,QAAAA,YAAY,CAACH,GAAG,CAACyB,QAAJ,EAAD,CAAZ;AACD,OAR2D;AAS5Dd,MAAAA,SAAS,EAAEjC,UAAU,CAAE,GAAEO,WAAY,OAAhB,EAAwB;AAC3C,SAAE,GAAEA,WAAY,cAAhB,GAAgC6B;AADW,OAAxB;AATuC,KAA3B,EAYhCC,aAAa,EAZmB,CAAb,CAAtB;AAaD,GAvCE,CAFA,CAF2B,EA2CzBxB,KAAK,CAACJ,QAAN,IAAkBV,KAAK,CAACiC,aAAN,CAAoB5B,QAApB,EAA8B;AACnD4C,IAAAA,QAAQ,EAAE;AADyC,GAA9B,CA3CO,CAAR,CAAtB;AA8CD,CAzEM","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Badge from '../badge';\nimport SafeArea from '../safe-area';\nimport { usePropsValue } from '../../utils/use-props-value';\nexport const TabBarItem = () => {\n  return null;\n};\nconst classPrefix = `adm-tab-bar`;\nconst defaultProps = {\n  safeArea: false\n};\nexport const TabBar = p => {\n  var _a;\n\n  const props = mergeProps(defaultProps, p);\n  let firstActiveKey = null;\n  const items = [];\n  React.Children.forEach(props.children, (child, index) => {\n    if (!React.isValidElement(child)) return;\n    const key = child.key;\n    if (typeof key !== 'string') return;\n\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n\n    items.push(child);\n  });\n  const [activeKey, setActiveKey] = usePropsValue({\n    value: props.activeKey,\n    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n    onChange: v => {\n      var _a;\n\n      if (v === null) return;\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n    }\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-wrap`\n  }, items.map(item => {\n    const active = item.key === activeKey;\n\n    function renderContent() {\n      const iconElement = item.props.icon && React.createElement(\"div\", {\n        className: `${classPrefix}-item-icon`\n      }, typeof item.props.icon === 'function' ? item.props.icon(active) : item.props.icon);\n      const titleElement = item.props.title && React.createElement(\"div\", {\n        className: `${classPrefix}-item-title`\n      }, typeof item.props.title === 'function' ? item.props.title(active) : item.props.title);\n\n      if (iconElement) {\n        return React.createElement(React.Fragment, null, React.createElement(Badge, {\n          content: item.props.badge,\n          className: `${classPrefix}-icon-badge`\n        }, iconElement), titleElement);\n      } else if (titleElement) {\n        return React.createElement(Badge, {\n          content: item.props.badge,\n          className: `${classPrefix}-title-badge`\n        }, titleElement);\n      }\n\n      return null;\n    }\n\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: () => {\n        const {\n          key\n        } = item;\n        if (key === undefined || key === null) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(`${classPrefix}-item`, {\n        [`${classPrefix}-item-active`]: active\n      })\n    }, renderContent()));\n  })), props.safeArea && React.createElement(SafeArea, {\n    position: 'bottom'\n  })));\n};"]},"metadata":{},"sourceType":"module"}