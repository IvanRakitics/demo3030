{"ast":null,"code":"import React, { useRef } from 'react';\nimport { useDrag } from '@use-gesture/react';\nimport { ThumbIcon } from './thumb-icon';\nconst classPrefix = `adm-slider`;\n\nconst Thumb = props => {\n  const {\n    value,\n    min,\n    max,\n    disabled,\n    onDrag,\n    icon\n  } = props;\n  const prevValue = useRef(value);\n\n  const currentPosition = () => {\n    return {\n      left: `${(value - min) / (max - min) * 100}%`,\n      right: 'auto'\n    };\n  };\n\n  const bind = useDrag(state => {\n    var _a;\n\n    if (disabled) return;\n\n    if (state.first) {\n      prevValue.current = value;\n    }\n\n    const x = state.xy[0] - state.initial[0];\n    const sliderOffsetWith = (_a = props.trackRef.current) === null || _a === void 0 ? void 0 : _a.offsetWidth;\n    if (!sliderOffsetWith) return;\n    const diff = x / Math.ceil(sliderOffsetWith) * (max - min);\n    onDrag(prevValue.current + diff, state.first, state.last);\n  }, {\n    axis: 'x',\n    pointer: {\n      touch: true\n    }\n  });\n  return React.createElement(\"div\", Object.assign({\n    className: `${classPrefix}-thumb-container`,\n    style: currentPosition()\n  }, bind()), React.createElement(\"div\", {\n    className: `${classPrefix}-thumb`\n  }, icon ? icon : React.createElement(ThumbIcon, {\n    className: `${classPrefix}-thumb-icon`\n  })));\n};\n\nexport default Thumb;","map":{"version":3,"sources":["D:/react/project0330/node_modules/antd-mobile/es/components/slider/thumb.js"],"names":["React","useRef","useDrag","ThumbIcon","classPrefix","Thumb","props","value","min","max","disabled","onDrag","icon","prevValue","currentPosition","left","right","bind","state","_a","first","current","x","xy","initial","sliderOffsetWith","trackRef","offsetWidth","diff","Math","ceil","last","axis","pointer","touch","createElement","Object","assign","className","style"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,MAAMC,WAAW,GAAI,YAArB;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AACrB,QAAM;AACJC,IAAAA,KADI;AAEJC,IAAAA,GAFI;AAGJC,IAAAA,GAHI;AAIJC,IAAAA,QAJI;AAKJC,IAAAA,MALI;AAMJC,IAAAA;AANI,MAOFN,KAPJ;AAQA,QAAMO,SAAS,GAAGZ,MAAM,CAACM,KAAD,CAAxB;;AAEA,QAAMO,eAAe,GAAG,MAAM;AAC5B,WAAO;AACLC,MAAAA,IAAI,EAAG,GAAE,CAACR,KAAK,GAAGC,GAAT,KAAiBC,GAAG,GAAGD,GAAvB,IAA8B,GAAI,GADtC;AAELQ,MAAAA,KAAK,EAAE;AAFF,KAAP;AAID,GALD;;AAOA,QAAMC,IAAI,GAAGf,OAAO,CAACgB,KAAK,IAAI;AAC5B,QAAIC,EAAJ;;AAEA,QAAIT,QAAJ,EAAc;;AAEd,QAAIQ,KAAK,CAACE,KAAV,EAAiB;AACfP,MAAAA,SAAS,CAACQ,OAAV,GAAoBd,KAApB;AACD;;AAED,UAAMe,CAAC,GAAGJ,KAAK,CAACK,EAAN,CAAS,CAAT,IAAcL,KAAK,CAACM,OAAN,CAAc,CAAd,CAAxB;AACA,UAAMC,gBAAgB,GAAG,CAACN,EAAE,GAAGb,KAAK,CAACoB,QAAN,CAAeL,OAArB,MAAkC,IAAlC,IAA0CF,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACQ,WAA/F;AACA,QAAI,CAACF,gBAAL,EAAuB;AACvB,UAAMG,IAAI,GAAGN,CAAC,GAAGO,IAAI,CAACC,IAAL,CAAUL,gBAAV,CAAJ,IAAmChB,GAAG,GAAGD,GAAzC,CAAb;AACAG,IAAAA,MAAM,CAACE,SAAS,CAACQ,OAAV,GAAoBO,IAArB,EAA2BV,KAAK,CAACE,KAAjC,EAAwCF,KAAK,CAACa,IAA9C,CAAN;AACD,GAdmB,EAcjB;AACDC,IAAAA,IAAI,EAAE,GADL;AAEDC,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAE;AADA;AAFR,GAdiB,CAApB;AAoBA,SAAOlC,KAAK,CAACmC,aAAN,CAAoB,KAApB,EAA2BC,MAAM,CAACC,MAAP,CAAc;AAC9CC,IAAAA,SAAS,EAAG,GAAElC,WAAY,kBADoB;AAE9CmC,IAAAA,KAAK,EAAEzB,eAAe;AAFwB,GAAd,EAG/BG,IAAI,EAH2B,CAA3B,EAGKjB,KAAK,CAACmC,aAAN,CAAoB,KAApB,EAA2B;AACrCG,IAAAA,SAAS,EAAG,GAAElC,WAAY;AADW,GAA3B,EAETQ,IAAI,GAAGA,IAAH,GAAUZ,KAAK,CAACmC,aAAN,CAAoBhC,SAApB,EAA+B;AAC9CmC,IAAAA,SAAS,EAAG,GAAElC,WAAY;AADoB,GAA/B,CAFL,CAHL,CAAP;AAQD,CA9CD;;AAgDA,eAAeC,KAAf","sourcesContent":["import React, { useRef } from 'react';\nimport { useDrag } from '@use-gesture/react';\nimport { ThumbIcon } from './thumb-icon';\nconst classPrefix = `adm-slider`;\n\nconst Thumb = props => {\n  const {\n    value,\n    min,\n    max,\n    disabled,\n    onDrag,\n    icon\n  } = props;\n  const prevValue = useRef(value);\n\n  const currentPosition = () => {\n    return {\n      left: `${(value - min) / (max - min) * 100}%`,\n      right: 'auto'\n    };\n  };\n\n  const bind = useDrag(state => {\n    var _a;\n\n    if (disabled) return;\n\n    if (state.first) {\n      prevValue.current = value;\n    }\n\n    const x = state.xy[0] - state.initial[0];\n    const sliderOffsetWith = (_a = props.trackRef.current) === null || _a === void 0 ? void 0 : _a.offsetWidth;\n    if (!sliderOffsetWith) return;\n    const diff = x / Math.ceil(sliderOffsetWith) * (max - min);\n    onDrag(prevValue.current + diff, state.first, state.last);\n  }, {\n    axis: 'x',\n    pointer: {\n      touch: true\n    }\n  });\n  return React.createElement(\"div\", Object.assign({\n    className: `${classPrefix}-thumb-container`,\n    style: currentPosition()\n  }, bind()), React.createElement(\"div\", {\n    className: `${classPrefix}-thumb`\n  }, icon ? icon : React.createElement(ThumbIcon, {\n    className: `${classPrefix}-thumb-icon`\n  })));\n};\n\nexport default Thumb;"]},"metadata":{},"sourceType":"module"}